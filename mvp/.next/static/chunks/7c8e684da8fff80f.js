(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5614,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(56097),l=e.i(74080);let i=(0,r.forwardRef)(({content:e,position:t="top",delay:i=200,children:n,className:s="",...o},d)=>{let[c,h]=(0,r.useState)(!1),[u,m]=(0,r.useState)({top:0,left:0}),x=(0,r.useRef)(null),p=(0,r.useRef)(null),b=(0,r.useRef)(null),g=()=>{if(!x.current||!p.current)return;let e=x.current.getBoundingClientRect(),a=p.current.getBoundingClientRect(),r=window.scrollY,l=window.scrollX,i=0,n=0;switch(t){case"top":i=e.top+r-a.height-8,n=e.left+l+(e.width-a.width)/2;break;case"bottom":i=e.bottom+r+8,n=e.left+l+(e.width-a.width)/2;break;case"left":i=e.top+r+(e.height-a.height)/2,n=e.left+l-a.width-8;break;case"right":i=e.top+r+(e.height-a.height)/2,n=e.right+l+8}let s=window.innerWidth+l-a.width-8,o=window.innerHeight+r-a.height-8;n=Math.max(8,Math.min(n,s)),m({top:i=Math.max(8,Math.min(i,o)),left:n})},v=()=>{b.current=setTimeout(()=>{h(!0)},i)},y=()=>{b.current&&clearTimeout(b.current),h(!1)};return(0,r.useEffect)(()=>{c&&requestAnimationFrame(g)},[c,t]),(0,r.useEffect)(()=>()=>{b.current&&clearTimeout(b.current)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:x,onMouseEnter:v,onMouseLeave:y,onFocus:v,onBlur:y,className:`inline-block ${s}`,...o,children:n}),c&&(0,l.createPortal)((0,a.jsx)("div",{ref:p,role:"tooltip",className:"fixed z-[1070] animate-fadeIn",style:{top:u.top,left:u.left},children:(0,a.jsxs)("div",{className:"relative px-3 py-2 text-sm text-white bg-gray-900 dark:bg-gray-700 rounded-lg shadow-lg max-w-xs",children:[e,(0,a.jsx)("div",{className:`absolute w-0 h-0 border-4 ${{top:"bottom-0 left-1/2 -translate-x-1/2 translate-y-full border-l-transparent border-r-transparent border-b-transparent border-t-gray-900 dark:border-t-gray-700",bottom:"top-0 left-1/2 -translate-x-1/2 -translate-y-full border-l-transparent border-r-transparent border-t-transparent border-b-gray-900 dark:border-b-gray-700",left:"right-0 top-1/2 -translate-y-1/2 translate-x-full border-t-transparent border-b-transparent border-r-transparent border-l-gray-900 dark:border-l-gray-700",right:"left-0 top-1/2 -translate-y-1/2 -translate-x-full border-t-transparent border-b-transparent border-l-transparent border-r-gray-900 dark:border-r-gray-700"}[t]}`})]})}),document.body)]})});function n({term:e,children:r,showExample:l=!1,className:n=""}){let s=(0,t.getTermByName)(e);if(!s)return(0,a.jsx)("span",{className:n,children:r||e});let o=(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-300",children:s.term}),(0,a.jsx)("div",{className:"text-gray-100",children:s.definition}),l&&s.example&&(0,a.jsxs)("div",{className:"text-gray-300 text-xs italic border-t border-gray-600 pt-2 mt-2",children:["Example: ",s.example]})]});return(0,a.jsx)(i,{content:o,position:"top",delay:300,children:(0,a.jsx)("span",{className:`
          border-b border-dotted border-gray-400 dark:border-gray-500
          cursor-help hover:border-blue-500 dark:hover:border-blue-400
          transition-colors
          ${n}
        `,children:r||e})})}function s({term:e,showExample:r=!1}){let l=(0,t.getTermByName)(e);if(!l)return null;let n=(0,a.jsxs)("div",{className:"space-y-2 max-w-xs",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-300",children:l.term}),(0,a.jsx)("div",{className:"text-gray-100 text-sm",children:l.definition}),r&&l.example&&(0,a.jsxs)("div",{className:"text-gray-300 text-xs italic border-t border-gray-600 pt-2 mt-2",children:["Example: ",l.example]})]});return(0,a.jsx)(i,{content:n,position:"top",delay:200,children:(0,a.jsx)("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 ml-1 text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors focus:outline-none focus:text-blue-500","aria-label":`Learn more about ${e}`,children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})}i.displayName="Tooltip",e.s(["GlossaryHelpIcon",()=>s,"default",()=>n],5614)},54418,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(63993),l=e.i(35456),i=e.i(36923),n=e.i(55015),s=e.i(5614),o=e.i(15823);let d={hasWill:"",willYear:"",willState:"",willConcerns:"",hasTrust:"",trustType:"",trustYear:"",trustConcerns:"",hasPOAFinancial:"",poaFinancialYear:"",poaFinancialAgent:"",hasPOAHealthcare:"",poaHealthcareYear:"",poaHealthcareAgent:"",hasHealthcareDirective:"",healthcareDirectiveYear:"",hasHIPAA:"",beneficiaryDesignationsReviewed:"",beneficiaryDesignationsYear:"",lastComprehensiveReview:"",additionalNotes:""},c=[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unsure",label:"Not sure"}],h=[{value:"revocable_living",label:"Revocable Living Trust"},{value:"irrevocable",label:"Irrevocable Trust"},{value:"special_needs",label:"Special Needs Trust"},{value:"other",label:"Other / Not sure"}],u=[{value:"within_1_year",label:"Within the last year"},{value:"1_3_years",label:"1-3 years ago"},{value:"3_5_years",label:"3-5 years ago"},{value:"5_10_years",label:"5-10 years ago"},{value:"over_10_years",label:"More than 10 years ago"},{value:"never",label:"Never had a comprehensive review"}];function m(){let e=(0,n.getCurrentYear)(),r=e-3,m=e-5,{formData:x,updateField:p,saveAndExit:b,saveAndContinue:g,isSubmitting:v,estatePlanId:y,completedSteps:j,isLoading:f,saveStatus:w,lastSaved:F,nextStepLabel:N,isFieldExtracted:A,hasExtractedData:C}=(0,n.useIntakeForm)("existing",d);return y?f?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(t.default,{currentStep:"existing",completedSteps:j,estatePlanId:y}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Existing Documents"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Tell us about any estate planning documents you already have. This helps us identify gaps and documents that may need updating."}),C&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(o.ExtractedDataBanner,{})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-8",children:[(0,a.jsxs)(i.FormSection,{title:(0,a.jsxs)(a.Fragment,{children:["Last ",(0,a.jsx)(s.default,{term:"Will",children:"Will"})," and Testament"]}),description:"A legal document that specifies how your assets should be distributed after death",children:[(0,a.jsx)(i.FormField,{label:"Do you have a will?",children:(0,a.jsx)(i.RadioGroup,{name:"hasWill",value:x.hasWill,onChange:e=>p("hasWill",e),options:c})}),"yes"===x.hasWill&&(0,a.jsxs)("div",{className:"space-y-4 mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(i.FormField,{label:"What year was it created/updated?",children:(0,a.jsx)(i.TextInput,{value:x.willYear,onChange:e=>p("willYear",e),placeholder:`e.g., ${m}`})}),(0,a.jsx)(i.FormField,{label:"Which state was it created in?",children:(0,a.jsx)(i.TextInput,{value:x.willState,onChange:e=>p("willState",e),placeholder:"e.g., California"})})]}),(0,a.jsx)(i.FormField,{label:"Any concerns or changes needed?",children:(0,a.jsx)(i.TextInput,{value:x.willConcerns,onChange:e=>p("willConcerns",e),placeholder:"e.g., Need to update executor, add new child"})})]})]}),(0,a.jsxs)(i.FormSection,{title:(0,a.jsx)(s.default,{term:"Trust",children:"Trust"}),description:"A legal arrangement where a trustee holds and manages assets for beneficiaries",children:[(0,a.jsx)(i.FormField,{label:"Do you have a trust?",children:(0,a.jsx)(i.RadioGroup,{name:"hasTrust",value:x.hasTrust,onChange:e=>p("hasTrust",e),options:c})}),"yes"===x.hasTrust&&(0,a.jsxs)("div",{className:"space-y-4 mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[(0,a.jsx)(i.FormField,{label:"Type of trust",children:(0,a.jsx)(i.RadioGroup,{name:"trustType",value:x.trustType,onChange:e=>p("trustType",e),options:h})}),(0,a.jsx)(i.FormField,{label:"What year was it created/updated?",children:(0,a.jsx)(i.TextInput,{value:x.trustYear,onChange:e=>p("trustYear",e),placeholder:`e.g., ${m}`})}),(0,a.jsx)(i.FormField,{label:"Any concerns or changes needed?",children:(0,a.jsx)(i.TextInput,{value:x.trustConcerns,onChange:e=>p("trustConcerns",e),placeholder:"e.g., Need to add new assets, update trustees"})})]})]}),(0,a.jsxs)(i.FormSection,{title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{term:"Power of Attorney",children:"Power of Attorney"})," - Financial"]}),description:"Authorizes someone to make financial decisions on your behalf if you're unable to",children:[(0,a.jsx)(i.FormField,{label:"Do you have a financial power of attorney?",children:(0,a.jsx)(i.RadioGroup,{name:"hasPOAFinancial",value:x.hasPOAFinancial,onChange:e=>p("hasPOAFinancial",e),options:c})}),"yes"===x.hasPOAFinancial&&(0,a.jsx)("div",{className:"space-y-4 mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(i.FormField,{label:"When was it created?",children:(0,a.jsx)(i.TextInput,{value:x.poaFinancialYear,onChange:e=>p("poaFinancialYear",e),placeholder:`e.g., ${r}`})}),(0,a.jsx)(i.FormField,{label:"Who is your agent?",children:(0,a.jsx)(i.TextInput,{value:x.poaFinancialAgent,onChange:e=>p("poaFinancialAgent",e),placeholder:"e.g., Jane Smith (spouse)"})})]})})]}),(0,a.jsxs)(i.FormSection,{title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{term:"Power of Attorney",children:"Power of Attorney"})," - Healthcare"]}),description:(0,a.jsxs)(a.Fragment,{children:["Authorizes someone (your ",(0,a.jsx)(s.default,{term:"Healthcare Proxy",children:"healthcare proxy"}),") to make medical decisions on your behalf if you're unable to"]}),children:[(0,a.jsx)(i.FormField,{label:"Do you have a healthcare power of attorney?",children:(0,a.jsx)(i.RadioGroup,{name:"hasPOAHealthcare",value:x.hasPOAHealthcare,onChange:e=>p("hasPOAHealthcare",e),options:c})}),"yes"===x.hasPOAHealthcare&&(0,a.jsx)("div",{className:"space-y-4 mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(i.FormField,{label:"When was it created?",children:(0,a.jsx)(i.TextInput,{value:x.poaHealthcareYear,onChange:e=>p("poaHealthcareYear",e),placeholder:`e.g., ${r}`})}),(0,a.jsx)(i.FormField,{label:"Who is your agent?",children:(0,a.jsx)(i.TextInput,{value:x.poaHealthcareAgent,onChange:e=>p("poaHealthcareAgent",e),placeholder:"e.g., Jane Smith (spouse)"})})]})})]}),(0,a.jsxs)(i.FormSection,{title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{term:"Healthcare Directive",children:"Healthcare Directive"})," / ",(0,a.jsx)(s.default,{term:"Living Will",children:"Living Will"})]}),description:"Documents your wishes for medical treatment if you're unable to communicate",children:[(0,a.jsx)(i.FormField,{label:"Do you have a healthcare directive or living will?",children:(0,a.jsx)(i.RadioGroup,{name:"hasHealthcareDirective",value:x.hasHealthcareDirective,onChange:e=>p("hasHealthcareDirective",e),options:c})}),"yes"===x.hasHealthcareDirective&&(0,a.jsx)("div",{className:"mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:(0,a.jsx)(i.FormField,{label:"When was it created?",children:(0,a.jsx)(i.TextInput,{value:x.healthcareDirectiveYear,onChange:e=>p("healthcareDirectiveYear",e),placeholder:`e.g., ${m}`})})})]}),(0,a.jsx)(i.FormSection,{title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.default,{term:"HIPAA Authorization",children:"HIPAA Authorization"})}),description:"Allows designated people to access your medical information",children:(0,a.jsx)(i.FormField,{label:"Do you have a HIPAA authorization?",children:(0,a.jsx)(i.RadioGroup,{name:"hasHIPAA",value:x.hasHIPAA,onChange:e=>p("hasHIPAA",e),options:c})})}),(0,a.jsxs)(i.FormSection,{title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.default,{term:"Beneficiary Designation",children:"Beneficiary Designations"})}),description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{term:"Beneficiary",children:"Beneficiaries"})," named on retirement accounts, life insurance, etc. These override your will."]}),children:[(0,a.jsx)(i.FormField,{label:"Have you reviewed your beneficiary designations recently?",children:(0,a.jsx)(i.RadioGroup,{name:"beneficiaryDesignationsReviewed",value:x.beneficiaryDesignationsReviewed,onChange:e=>p("beneficiaryDesignationsReviewed",e),options:[{value:"yes",label:"Yes, they are current"},{value:"no",label:"No, they may be outdated"},{value:"unsure",label:"Not sure"}]})}),"yes"===x.beneficiaryDesignationsReviewed&&(0,a.jsx)("div",{className:"mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:(0,a.jsx)(i.FormField,{label:"When did you last review them?",children:(0,a.jsx)(i.TextInput,{value:x.beneficiaryDesignationsYear,onChange:e=>p("beneficiaryDesignationsYear",e),placeholder:`e.g., ${e-1}`})})})]}),(0,a.jsx)(i.FormSection,{title:"Last Comprehensive Review",description:"When did you last have a complete review of your estate plan?",children:(0,a.jsx)(i.FormField,{label:"Last comprehensive review",children:(0,a.jsx)(i.RadioGroup,{name:"lastComprehensiveReview",value:x.lastComprehensiveReview,onChange:e=>p("lastComprehensiveReview",e),options:u})})}),(0,a.jsx)(i.FormSection,{title:"Additional Notes",description:"Anything else we should know about your existing documents?",children:(0,a.jsx)(i.FormField,{label:"Additional information",children:(0,a.jsx)(i.TextArea,{value:x.additionalNotes,onChange:e=>p("additionalNotes",e),placeholder:"e.g., I had documents prepared by an attorney in 2018 but never signed them, my spouse has separate documents, etc.",rows:4})})})]}),(0,a.jsx)(l.default,{currentStep:"existing",estatePlanId:y,onSaveAndExit:b,onSaveAndContinue:g,isSubmitting:v,canContinue:!0,saveStatus:w,lastSaved:F,nextStepLabel:N})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No estate plan found. Please start from the beginning."}),(0,a.jsx)("a",{href:"/intake",className:"text-blue-600 hover:text-blue-700 mt-2 inline-block",children:"Start New Estate Plan"})]})}function x(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,a.jsx)(m,{})})}e.s(["default",()=>x])}]);