(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(71645);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return p},useLinkStatus:function(){return y}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(90809),l=e.r(43476),i=n._(e.r(71645)),o=e.r(95057),d=e.r(8372),c=e.r(18581),x=e.r(18967),u=e.r(5550);e.r(33525);let h=e.r(91949),m=e.r(73668),g=e.r(9396);function b(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function p(t){var r;let a,s,n,[o,p]=(0,i.useOptimistic)(h.IDLE_LINK_STATUS),y=(0,i.useRef)(null),{href:j,as:v,children:k,prefetch:w=null,passHref:N,replace:C,shallow:L,scroll:M,onClick:$,onMouseEnter:z,onTouchStart:A,legacyBehavior:P=!1,onNavigate:T,ref:W,unstable_dynamicOnHover:I,...B}=t;a=k,P&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let R=i.default.useContext(d.AppRouterContext),S=!1!==w,_=!1!==w?null===(r=w)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:E,as:O}=i.default.useMemo(()=>{let e=b(j);return{href:e,as:v?b(v):e}},[j,v]);if(P){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=i.default.Children.only(a)}let H=P?s&&"object"==typeof s&&s.ref:W,D=i.default.useCallback(e=>(null!==R&&(y.current=(0,h.mountLinkInstance)(e,E,R,_,S,p)),()=>{y.current&&((0,h.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,h.unmountPrefetchableInstance)(e)}),[S,E,R,_,p]),V={ref:(0,c.useMergedRef)(D,H),onClick(t){P||"function"!=typeof $||$(t),P&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!R||t.defaultPrevented||function(t,r,a,s,n,l,o){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:x}=e.r(99781);i.default.startTransition(()=>{x(a||r,n?"replace":"push",l??!0,s.current)})}}(t,E,O,y,C,M,T)},onMouseEnter(e){P||"function"!=typeof z||z(e),P&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),R&&S&&(0,h.onNavigationIntent)(e.currentTarget,!0===I)},onTouchStart:function(e){P||"function"!=typeof A||A(e),P&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),R&&S&&(0,h.onNavigationIntent)(e.currentTarget,!0===I)}};return(0,x.isAbsoluteUrl)(O)?V.href=O:P&&!N&&("a"!==s.type||"href"in s.props)||(V.href=(0,u.addBasePath)(O)),n=P?i.default.cloneElement(s,V):(0,l.jsx)("a",{...B,...V,children:a}),(0,l.jsx)(f.Provider,{value:o,children:n})}e.r(84508);let f=(0,i.createContext)(h.IDLE_LINK_STATUS),y=()=>(0,i.useContext)(f);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},83079,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-blue-300 dark:disabled:bg-blue-800",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 disabled:bg-gray-100 disabled:text-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-600",outline:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50 active:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 disabled:border-gray-200 disabled:text-gray-400 dark:disabled:border-gray-700 dark:disabled:text-gray-600",ghost:"text-gray-700 hover:bg-gray-100 active:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-800 disabled:text-gray-400 dark:disabled:text-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-red-300 dark:disabled:bg-red-800"},s={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5"},n={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=({size:e})=>(0,t.jsxs)("svg",{className:`animate-spin ${n[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i=(0,r.forwardRef)(({variant:e="primary",size:r="md",isLoading:i=!1,leftIcon:o,rightIcon:d,fullWidth:c=!1,disabled:x,className:u="",children:h,...m},g)=>(0,t.jsxs)("button",{ref:g,disabled:x||i,className:`
          inline-flex items-center justify-center
          font-medium rounded-lg
          transition-colors duration-150 ease-in-out
          focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2
          dark:focus-visible:ring-offset-gray-900
          disabled:cursor-not-allowed
          ${a[e]}
          ${s[r]}
          ${c?"w-full":""}
          ${u}
        `,...m,children:[i?(0,t.jsx)(l,{size:r}):o?(0,t.jsx)("span",{className:n[r],children:o}):null,h,!i&&d&&(0,t.jsx)("span",{className:n[r],children:d})]}));i.displayName="Button",e.s(["default",0,i])},74099,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.createContext)(null);function s(){let e=(0,r.useContext)(a);if(!e)throw Error("Tab components must be used within a Tabs provider");return e}let n={underline:{list:"border-b border-gray-200 dark:border-gray-700",tab:"px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 border-b-2 border-transparent -mb-px transition-colors",active:"text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400",disabled:"opacity-50 cursor-not-allowed"},pills:{list:"bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",tab:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 rounded-md transition-all",active:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm",disabled:"opacity-50 cursor-not-allowed"},boxed:{list:"border border-gray-200 dark:border-gray-700 rounded-lg p-1",tab:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 rounded-md transition-all",active:"bg-blue-600 text-white",disabled:"opacity-50 cursor-not-allowed"}},l=(0,r.forwardRef)(({tabs:e,defaultTab:s,activeTab:n,onChange:l,variant:o="underline",fullWidth:d=!1,className:c="",children:x,...u},h)=>{let[m,g]=(0,r.useState)(s||e[0]?.id||""),b=void 0!==n,p=b?n:m,f=(0,r.useCallback)(e=>{b||g(e),l?.(e)},[b,l]);return(0,t.jsx)(a.Provider,{value:{activeTab:p,setActiveTab:f},children:(0,t.jsxs)("div",{ref:h,className:c,...u,children:[(0,t.jsx)(i,{tabs:e,variant:o,fullWidth:d}),x]})})});l.displayName="Tabs";let i=(0,r.forwardRef)(({tabs:e,variant:r="underline",fullWidth:a=!1,className:l="",...i},o)=>{let{activeTab:d,setActiveTab:c}=s(),x=n[r];return(0,t.jsx)("div",{ref:o,role:"tablist",className:`flex ${a?"":"inline-flex"} ${x.list} ${l}`,...i,children:e.map(e=>(0,t.jsxs)("button",{role:"tab",type:"button","aria-selected":d===e.id,"aria-controls":`panel-${e.id}`,tabIndex:d===e.id?0:-1,disabled:e.disabled,onClick:()=>!e.disabled&&c(e.id),className:`
              flex items-center justify-center gap-2
              ${a?"flex-1":""}
              ${x.tab}
              ${d===e.id?x.active:""}
              ${e.disabled?x.disabled:""}
            `,children:[e.icon&&(0,t.jsx)("span",{className:"w-4 h-4",children:e.icon}),e.label]},e.id))})});i.displayName="TabList";let o=(0,r.forwardRef)(({tabId:e,className:r="",children:a,...n},l)=>{let{activeTab:i}=s();return i!==e?null:(0,t.jsx)("div",{ref:l,role:"tabpanel",id:`panel-${e}`,"aria-labelledby":e,tabIndex:0,className:`mt-4 animate-fadeIn ${r}`,...n,children:a})});o.displayName="TabPanel",e.s(["TabPanel",()=>o,"Tabs",()=>l])},3502,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566);e.i(50711);var s=e.i(82045),n=e.i(83394),l=e.i(22016),i=e.i(74099);let o={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",error:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},d={default:"bg-gray-500",success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500"},c={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"},x={sm:"w-1.5 h-1.5",md:"w-2 h-2"},u=(0,r.forwardRef)(({variant:e="default",size:r="sm",dot:a=!1,className:s="",children:n,...l},i)=>(0,t.jsxs)("span",{ref:i,className:`
          inline-flex items-center gap-1.5
          font-medium rounded-full
          ${o[e]}
          ${c[r]}
          ${s}
        `,...l,children:[a&&(0,t.jsx)("span",{className:`rounded-full flex-shrink-0 ${d[e]} ${x[r]}`}),n]}));u.displayName="Badge";var h=e.i(83079);let m={missing:{icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",iconColor:"text-red-500",titleColor:"text-red-800 dark:text-red-300"},outdated:{icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-yellow-800",iconColor:"text-yellow-500",titleColor:"text-yellow-800 dark:text-yellow-300"},inconsistency:{icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",iconColor:"text-orange-500",titleColor:"text-orange-800 dark:text-orange-300"},recommendation:{icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",iconColor:"text-blue-500",titleColor:"text-blue-800 dark:text-blue-300"},note:{icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-gray-50 dark:bg-gray-700",borderColor:"border-gray-200 dark:border-gray-600",iconColor:"text-gray-500",titleColor:"text-gray-800 dark:text-gray-200"}},g={high:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"};function b({type:e,title:r,description:a,priority:s,action:n}){let l=m[e];return(0,t.jsx)("div",{className:`${l.bgColor} ${l.borderColor} border rounded-lg p-4`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`flex-shrink-0 ${l.iconColor}`,children:l.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h4",{className:`font-medium ${l.titleColor}`,children:r}),s&&(0,t.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${g[s]}`,children:[s.charAt(0).toUpperCase()+s.slice(1)," Priority"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a}),n&&(0,t.jsx)("div",{className:"mt-3",children:n})]})]})})}function p({score:e,size:r="md"}){let a={sm:{ring:60,stroke:6,text:"text-lg"},md:{ring:100,stroke:8,text:"text-2xl"},lg:{ring:140,stroke:10,text:"text-4xl"}}[r],s=(a.ring-a.stroke)/2,n=2*s*Math.PI,l=n-e/100*n,i=e=>e>=80?"text-green-500":e>=60?"text-yellow-500":e>=40?"text-orange-500":"text-red-500";return(0,t.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,t.jsxs)("svg",{width:a.ring,height:a.ring,className:"-rotate-90",children:[(0,t.jsx)("circle",{cx:a.ring/2,cy:a.ring/2,r:s,fill:"none",stroke:"currentColor",strokeWidth:a.stroke,className:"text-gray-200 dark:text-gray-700"}),(0,t.jsx)("circle",{cx:a.ring/2,cy:a.ring/2,r:s,fill:"none",stroke:"currentColor",strokeWidth:a.stroke,strokeDasharray:n,strokeDashoffset:l,strokeLinecap:"round",className:`${i(e)} transition-all duration-500`})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:`font-bold ${a.text} ${i(e)}`,children:e})})]})}let f={will:"Last Will & Testament",trust:"Revocable Living Trust",poa_financial:"Financial Power of Attorney",poa_healthcare:"Healthcare Power of Attorney",healthcare_directive:"Healthcare Directive / Living Will",hipaa:"HIPAA Authorization",other:"Other Document"};function y(){var e;let o=(0,a.useParams)().estatePlanId,[d,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null),[g,y]=(0,r.useState)("overview"),k=(0,s.useQuery)(n.api.queries.getEstatePlan,{estatePlanId:o}),w=(0,s.useQuery)(n.api.queries.getLatestGapAnalysis,{estatePlanId:o}),N=(0,s.useQuery)(n.api.queries.getIntakeProgress,{estatePlanId:o}),C=(0,s.useAction)(n.api.gapAnalysis.runGapAnalysis),L=async()=>{c(!0),m(null);try{let e=await C({estatePlanId:o});e.success||m(e.error||"Analysis failed")}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}},M=e=>{if(!e)return[];try{return JSON.parse(e)}catch{return[]}},$=M(w?.missingDocuments),z=M(w?.outdatedDocuments),A=M(w?.inconsistencies),P=M(w?.recommendations),T=M(w?.stateSpecificNotes),W=z.length+A.length,I=N?.isAllComplete,B=w?.score?(e=w.score)>=80?{label:"Excellent",description:"Your estate plan is comprehensive and well-organized.",color:"text-green-600 dark:text-green-400"}:e>=60?{label:"Good",description:"Your estate plan is solid but has some room for improvement.",color:"text-yellow-600 dark:text-yellow-400"}:e>=40?{label:"Needs Work",description:"Several important areas need attention in your estate plan.",color:"text-orange-600 dark:text-orange-400"}:{label:"Critical",description:"Your estate plan has significant gaps that should be addressed soon.",color:"text-red-600 dark:text-red-400"}:null,R=(0,r.useMemo)(()=>[{id:"overview",label:"Overview",icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{id:"missing",label:`Missing (${$.length})`,icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),disabled:0===$.length},{id:"issues",label:`Issues (${W})`,icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),disabled:0===W},{id:"recommendations",label:`Actions (${P.length})`,icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),disabled:0===P.length},{id:"state",label:"State Notes",icon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),disabled:0===T.length}],[$.length,W,P.length,T.length]);return k?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 print:bg-white",children:[(0,t.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm print:hidden",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsx)(l.default,{href:"/",className:"text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Estate Planning Assistant"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[w&&(0,t.jsx)(h.default,{variant:"outline",size:"sm",onClick:()=>{window.print()},leftIcon:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),children:"Print Report"}),(0,t.jsx)(l.default,{href:`/intake?planId=${o}`,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"Back to Intake"})]})]})}),(0,t.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[!I&&(0,t.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 print:hidden",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Intake Incomplete"}),(0,t.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["Complete all intake sections for the most accurate analysis. You've completed ",N?.completedCount||0," of ",N?.totalCount||5," sections."]}),(0,t.jsx)(l.default,{href:`/intake?planId=${o}`,className:"inline-block mt-2 text-sm font-medium text-yellow-800 dark:text-yellow-200 hover:underline",children:"Complete Intake →"})]})]})}),!w&&!d&&(0,t.jsxs)("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Ready to Analyze Your Estate Plan"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-lg mx-auto",children:"Our AI will review your intake data and identify gaps, outdated documents, and provide personalized recommendations based on your state's laws."}),(0,t.jsx)(h.default,{onClick:L,size:"lg",children:"Run Gap Analysis"})]}),d&&(0,t.jsxs)("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-blue-900"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-blue-600 border-t-transparent animate-spin"})]}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Analyzing Your Estate Plan..."}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-lg mx-auto",children:"This may take a minute. We're reviewing your information and generating personalized recommendations."})]}),x&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-red-800 dark:text-red-300",children:"Analysis Failed"}),(0,t.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:x}),(0,t.jsx)("button",{onClick:L,className:"mt-2 text-sm font-medium text-red-800 dark:text-red-300 hover:underline",children:"Try Again"})]})]})}),w&&!d&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 px-6 py-10 text-center",children:[(0,t.jsxs)("h1",{className:"text-lg font-medium text-gray-600 dark:text-gray-400 mb-6",children:[k.name||"Your Estate Plan"," Analysis"]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(p,{score:w.score||0,size:"lg"})}),B&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:`text-3xl font-bold ${B.color} mb-2`,children:B.label}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:B.description})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 md:gap-10",children:[(0,t.jsx)(j,{label:"Missing Documents",value:$.length,color:$.length>0?"red":"green",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)(j,{label:"Issues Found",value:W,color:W>0?"yellow":"green",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)(j,{label:"Recommendations",value:P.length,color:"blue",icon:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]}),(0,t.jsxs)("div",{className:"mt-8 flex flex-wrap justify-center gap-4",children:[(0,t.jsxs)(l.default,{href:`/analysis/${o}/visualization`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),"View Estate Distribution"]}),(0,t.jsxs)(l.default,{href:`/analysis/${o}/reminders`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Reminders & Life Events"]})]})]}),(0,t.jsxs)("div",{className:"px-6 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 flex flex-wrap justify-between items-center gap-2 text-sm print:hidden",children:[(0,t.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Analysis from ",new Date(w.createdAt).toLocaleString()]}),(0,t.jsxs)("button",{onClick:L,disabled:d,className:"text-blue-600 hover:text-blue-700 font-medium inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Re-run Analysis"]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden print:shadow-none",children:[(0,t.jsxs)(i.Tabs,{tabs:R,activeTab:g,onChange:y,variant:"underline",fullWidth:!0,className:"print:hidden",children:[(0,t.jsx)(i.TabPanel,{tabId:"overview",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Priority Actions"]}),$.filter(e=>"high"===e.priority).length>0||P.filter(e=>"high"===e.priority).length>0?(0,t.jsxs)("ul",{className:"space-y-2",children:[$.filter(e=>"high"===e.priority).slice(0,3).map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(u,{variant:"error",size:"sm",children:"Missing"}),(0,t.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:f[e.type]||e.type})]},`doc-${r}`)),P.filter(e=>"high"===e.priority).slice(0,2).map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(u,{variant:"warning",size:"sm",children:"Action"}),(0,t.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.action})]},`rec-${r}`))]}):(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No high-priority actions needed."})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Document Status"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Missing"}),(0,t.jsx)("span",{className:"font-medium text-red-600",children:$.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Outdated"}),(0,t.jsx)("span",{className:"font-medium text-yellow-600",children:z.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Inconsistencies"}),(0,t.jsx)("span",{className:"font-medium text-orange-600",children:A.length})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,t.jsx)(l.default,{href:`/documents/generate/${o}`,className:"flex-1",children:(0,t.jsx)(h.default,{variant:"primary",fullWidth:!0,children:"Generate Documents"})}),(0,t.jsx)(l.default,{href:`/documents/upload/${o}`,className:"flex-1",children:(0,t.jsx)(h.default,{variant:"secondary",fullWidth:!0,children:"Upload & Analyze"})}),(0,t.jsx)(l.default,{href:`/intake?planId=${o}`,className:"flex-1",children:(0,t.jsx)(h.default,{variant:"outline",fullWidth:!0,children:"Update Information"})})]})]})}),(0,t.jsx)(i.TabPanel,{tabId:"missing",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map((e,r)=>(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:f[e.type]||e.type}),(0,t.jsx)(u,{variant:"high"===e.priority?"error":"medium"===e.priority?"warning":"success",size:"sm",children:e.priority})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e.reason}),(0,t.jsx)(l.default,{href:`/documents/generate/${o}?type=${e.type}`,className:"inline-flex items-center gap-1 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Generate Document →"})]},r))})})}),(0,t.jsx)(i.TabPanel,{tabId:"issues",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[z.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Outdated Documents (",z.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:z.map((e,r)=>(0,t.jsx)(b,{type:"outdated",title:f[e.type]||e.type,description:`${e.issue}. ${e.recommendation}`},r))})]}),A.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Inconsistencies (",A.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:A.map((e,r)=>(0,t.jsx)(b,{type:"inconsistency",title:e.issue,description:`${e.details}. Recommendation: ${e.recommendation}`},r))})]})]})}),(0,t.jsx)(i.TabPanel,{tabId:"recommendations",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-3",children:P.map((e,r)=>(0,t.jsx)(b,{type:"recommendation",title:e.action,description:e.reason,priority:e.priority},r))})})}),(0,t.jsx)(i.TabPanel,{tabId:"state",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-3",children:T.map((e,r)=>(0,t.jsx)(b,{type:"note",title:e.note,description:e.relevance},r))})})})]}),(0,t.jsxs)("div",{className:"hidden print:block p-6 space-y-8",children:[(0,t.jsx)(v,{title:"Missing Documents",items:$,type:"missing"}),(0,t.jsx)(v,{title:"Outdated Documents",items:z,type:"outdated"}),(0,t.jsx)(v,{title:"Inconsistencies",items:A,type:"inconsistency"}),(0,t.jsx)(v,{title:"Recommendations",items:P,type:"recommendation"}),(0,t.jsx)(v,{title:"State-Specific Notes",items:T,type:"note"})]})]}),(0,t.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[(0,t.jsx)("strong",{children:"Disclaimer:"})," This analysis is for informational purposes only and does not constitute legal advice. Please consult with a licensed attorney in your state to review your specific situation and any documents before signing."]})})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})})}function j({label:e,value:r,color:a,icon:s}){return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-full ${{red:"text-red-600 bg-red-100 dark:bg-red-900/30",yellow:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30",green:"text-green-600 bg-green-100 dark:bg-green-900/30",blue:"text-blue-600 bg-blue-100 dark:bg-blue-900/30"}[a]} flex items-center justify-center mx-auto mb-2`,children:s}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e})]})}function v({title:e,items:r,type:a}){return 0===r.length?null:(0,t.jsxs)("div",{className:"break-inside-avoid",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 border-b pb-2",children:e}),(0,t.jsx)("ul",{className:"space-y-2",children:r.map((e,r)=>(0,t.jsxs)("li",{className:"text-sm",children:["missing"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:f[e.type]||e.type})," - ",e.reason]}),"outdated"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:f[e.type]||e.type})," - ",e.issue,". ",e.recommendation]}),"inconsistency"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:e.issue})," - ",e.details,". ",e.recommendation]}),"recommendation"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:e.action})," - ",e.reason]}),"note"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("strong",{children:e.note})," - ",e.relevance]})]},r))})]})}e.s(["default",()=>y],3502)}]);