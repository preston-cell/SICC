(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15285,e=>{"use strict";var a=e.i(43476),s=e.i(71645),i=e.i(63993),l=e.i(35456),r=e.i(36923),n=e.i(55015),t=e.i(15823);let d={hasSpouse:!1,spouseFirstName:"",spouseLastName:"",spouseDateOfBirth:"",spouseIsUSCitizen:!0,hasChildren:!1,children:[],guardianName:"",guardianRelationship:"",alternateGuardianName:"",alternateGuardianRelationship:"",guardianInstructions:"",hasOtherDependents:!1,otherDependentsDetails:"",hasPets:!1,petsDetails:"",parentsLiving:"",parentsCareNeeded:!1},o=[{value:"biological",label:"Biological Child"},{value:"adopted",label:"Adopted Child"},{value:"stepchild",label:"Stepchild"}],c=[{value:"both",label:"Both parents are living"},{value:"mother_only",label:"Only mother is living"},{value:"father_only",label:"Only father is living"},{value:"neither",label:"Neither parent is living"}],h=[{value:"sibling",label:"Sibling"},{value:"parent",label:"Parent/Grandparent"},{value:"aunt_uncle",label:"Aunt/Uncle"},{value:"cousin",label:"Cousin"},{value:"friend",label:"Close Friend"},{value:"other",label:"Other"}],p=["single","divorced","widowed"];function u(){let{formData:e,updateField:s,setFormData:u,saveAndExit:m,saveAndContinue:x,isSubmitting:g,estatePlanId:b,completedSteps:j,isLoading:v,saveStatus:y,lastSaved:N,nextStepLabel:f,isFieldExtracted:C,hasExtractedData:F}=(0,n.useIntakeForm)("family",d),{data:S}=(0,n.useOtherSectionData)(b,"personal"),k=!!S?.maritalStatus&&p.includes(S.maritalStatus),I=e.children.some(e=>e.isMinor),D=(e,a,s)=>{u(i=>({...i,children:i.children.map(i=>i.id===e?{...i,[a]:s}:i)}))};return b?v?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(i.default,{currentStep:"family",completedSteps:j,estatePlanId:b}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Family Information"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Tell us about your family members. This helps us understand who may be beneficiaries or need provisions in your estate plan."}),F&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(t.ExtractedDataBanner,{})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-8",children:[!k&&(0,a.jsxs)(r.FormSection,{title:"Spouse or Partner",description:"Information about your spouse or domestic partner",children:[(0,a.jsx)(r.Checkbox,{checked:e.hasSpouse,onChange:e=>s("hasSpouse",e),label:"I have a spouse or domestic partner",description:"Check this if you are married or in a registered domestic partnership"}),e.hasSpouse&&(0,a.jsxs)("div",{className:"mt-4 pl-4 border-l-2 border-blue-200 dark:border-blue-800 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.FormField,{label:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Spouse's First Name ",C("spouseFirstName")&&(0,a.jsx)(t.ExtractedBadge,{})]}),children:(0,a.jsx)(r.TextInput,{value:e.spouseFirstName,onChange:e=>s("spouseFirstName",e),placeholder:"Jane"})}),(0,a.jsx)(r.FormField,{label:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Spouse's Last Name ",C("spouseLastName")&&(0,a.jsx)(t.ExtractedBadge,{})]}),children:(0,a.jsx)(r.TextInput,{value:e.spouseLastName,onChange:e=>s("spouseLastName",e),placeholder:"Smith"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.FormField,{label:"Spouse's Date of Birth",children:(0,a.jsx)(r.TextInput,{type:"date",value:e.spouseDateOfBirth,onChange:e=>s("spouseDateOfBirth",e)})}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(r.Checkbox,{checked:e.spouseIsUSCitizen,onChange:e=>s("spouseIsUSCitizen",e),label:"U.S. Citizen",description:"Important for tax planning purposes"})})]})]})]}),(0,a.jsxs)(r.FormSection,{title:"Children",description:"Include all children (biological, adopted, and stepchildren)",children:[(0,a.jsx)(r.Checkbox,{checked:e.hasChildren,onChange:e=>{s("hasChildren",e),e||u(e=>({...e,children:[]}))},label:"I have children"}),e.hasChildren&&(0,a.jsxs)("div",{className:"mt-4 space-y-4",children:[e.children.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Child ",s+1]}),(0,a.jsx)("button",{type:"button",onClick:()=>{var a;return a=e.id,void u(e=>({...e,children:e.children.filter(e=>e.id!==a)}))},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(r.FormField,{label:"First Name",children:(0,a.jsx)(r.TextInput,{value:e.firstName,onChange:a=>D(e.id,"firstName",a),placeholder:"First name"})}),(0,a.jsx)(r.FormField,{label:"Last Name",children:(0,a.jsx)(r.TextInput,{value:e.lastName,onChange:a=>D(e.id,"lastName",a),placeholder:"Last name"})}),(0,a.jsx)(r.FormField,{label:"Date of Birth",children:(0,a.jsx)(r.TextInput,{type:"date",value:e.dateOfBirth,onChange:a=>D(e.id,"dateOfBirth",a)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.FormField,{label:"Relationship",children:(0,a.jsx)(r.Select,{value:e.relationship,onChange:a=>D(e.id,"relationship",a),options:o})}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(r.Checkbox,{checked:e.isMinor,onChange:a=>D(e.id,"isMinor",a),label:"Minor (under 18)"})})]}),(0,a.jsx)(r.Checkbox,{checked:e.hasSpecialNeeds,onChange:a=>D(e.id,"hasSpecialNeeds",a),label:"Has special needs",description:"May require a special needs trust"}),e.hasSpecialNeeds&&(0,a.jsx)(r.FormField,{label:"Special Needs Details",children:(0,a.jsx)(r.TextInput,{value:e.specialNeedsDetails,onChange:a=>D(e.id,"specialNeedsDetails",a),placeholder:"Brief description of special needs"})})]},e.id)),(0,a.jsx)("button",{type:"button",onClick:()=>{let e={id:Date.now().toString(),firstName:"",lastName:"",dateOfBirth:"",relationship:"biological",isMinor:!1,hasSpecialNeeds:!1,specialNeedsDetails:""};u(a=>({...a,children:[...a.children,e]}))},className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 hover:border-blue-500 hover:text-blue-500 transition-colors",children:"+ Add Child"})]})]}),I&&(0,a.jsxs)(r.FormSection,{title:"Guardian for Minor Children",description:"If something happens to you, who should care for your minor children?",children:[(0,a.jsx)(r.InfoBox,{type:"info",title:"Why This Matters",children:"Naming a guardian ensures your children are cared for by someone you trust. Without this designation, a court will decide who raises your children."}),(0,a.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.FormField,{label:"Preferred Guardian's Name",required:!0,children:(0,a.jsx)(r.TextInput,{value:e.guardianName,onChange:e=>s("guardianName",e),placeholder:"Full legal name"})}),(0,a.jsx)(r.FormField,{label:"Relationship",children:(0,a.jsx)(r.Select,{value:e.guardianRelationship,onChange:e=>s("guardianRelationship",e),options:h,placeholder:"Select relationship"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.FormField,{label:"Alternate Guardian's Name",hint:"In case primary cannot serve",children:(0,a.jsx)(r.TextInput,{value:e.alternateGuardianName,onChange:e=>s("alternateGuardianName",e),placeholder:"Full legal name"})}),(0,a.jsx)(r.FormField,{label:"Relationship",children:(0,a.jsx)(r.Select,{value:e.alternateGuardianRelationship,onChange:e=>s("alternateGuardianRelationship",e),options:h,placeholder:"Select relationship"})})]}),(0,a.jsx)(r.FormField,{label:"Special Instructions",hint:"Optional guidance for raising your children",children:(0,a.jsx)(r.TextArea,{value:e.guardianInstructions,onChange:e=>s("guardianInstructions",e),placeholder:"e.g., Religious upbringing preferences, education priorities, keep siblings together",rows:3})})]})]}),(0,a.jsxs)(r.FormSection,{title:"Other Dependents",description:"Anyone else who depends on you financially",children:[(0,a.jsx)(r.Checkbox,{checked:e.hasOtherDependents,onChange:e=>s("hasOtherDependents",e),label:"I have other dependents",description:"e.g., elderly parents, siblings, other relatives"}),e.hasOtherDependents&&(0,a.jsx)(r.FormField,{label:"Please describe",children:(0,a.jsx)(r.TextInput,{value:e.otherDependentsDetails,onChange:e=>s("otherDependentsDetails",e),placeholder:"e.g., My elderly mother lives with us and requires care"})})]}),(0,a.jsxs)(r.FormSection,{title:"Parents",description:"Information about your parents",children:[(0,a.jsx)(r.FormField,{label:"Parents' Status",children:(0,a.jsx)(r.RadioGroup,{name:"parentsLiving",value:e.parentsLiving,onChange:e=>s("parentsLiving",e),options:c})}),("both"===e.parentsLiving||"mother_only"===e.parentsLiving||"father_only"===e.parentsLiving)&&(0,a.jsx)(r.Checkbox,{checked:e.parentsCareNeeded,onChange:e=>s("parentsCareNeeded",e),label:"My parent(s) may need care or financial support",description:"This may affect your estate planning decisions"})]}),(0,a.jsxs)(r.FormSection,{title:"Pets",description:"Do you have pets that need care provisions?",children:[(0,a.jsx)(r.Checkbox,{checked:e.hasPets,onChange:e=>s("hasPets",e),label:"I have pets",description:"You can include pet care instructions in your estate plan"}),e.hasPets&&(0,a.jsx)(r.FormField,{label:"Please describe your pets",children:(0,a.jsx)(r.TextInput,{value:e.petsDetails,onChange:e=>s("petsDetails",e),placeholder:"e.g., 2 dogs (Golden Retrievers), 1 cat"})})]})]}),(0,a.jsx)(l.default,{currentStep:"family",estatePlanId:b,onSaveAndExit:m,onSaveAndContinue:x,isSubmitting:g,canContinue:!0,saveStatus:y,lastSaved:N,nextStepLabel:f})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No estate plan found. Please start from the beginning."}),(0,a.jsx)("a",{href:"/intake",className:"text-blue-600 hover:text-blue-700 mt-2 inline-block",children:"Start New Estate Plan"})]})}function m(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,a.jsx)(u,{})})}e.s(["default",()=>m])}]);