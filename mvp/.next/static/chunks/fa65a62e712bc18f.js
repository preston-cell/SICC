(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83079,e=>{"use strict";var a=e.i(43476),r=e.i(71645);let t={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-blue-300 dark:disabled:bg-blue-800",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 disabled:bg-gray-100 disabled:text-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-600",outline:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50 active:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 disabled:border-gray-200 disabled:text-gray-400 dark:disabled:border-gray-700 dark:disabled:text-gray-600",ghost:"text-gray-700 hover:bg-gray-100 active:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-800 disabled:text-gray-400 dark:disabled:text-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-red-300 dark:disabled:bg-red-800"},l={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5"},s={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},n=({size:e})=>(0,a.jsxs)("svg",{className:`animate-spin ${s[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i=(0,r.forwardRef)(({variant:e="primary",size:r="md",isLoading:i=!1,leftIcon:d,rightIcon:o,fullWidth:u=!1,disabled:c,className:g="",children:x,...b},m)=>(0,a.jsxs)("button",{ref:m,disabled:c||i,className:`
          inline-flex items-center justify-center
          font-medium rounded-lg
          transition-colors duration-150 ease-in-out
          focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2
          dark:focus-visible:ring-offset-gray-900
          disabled:cursor-not-allowed
          ${t[e]}
          ${l[r]}
          ${u?"w-full":""}
          ${g}
        `,...b,children:[i?(0,a.jsx)(n,{size:r}):d?(0,a.jsx)("span",{className:s[r],children:d}):null,x,!i&&o&&(0,a.jsx)("span",{className:s[r],children:o})]}));i.displayName="Button",e.s(["default",0,i])},63993,35456,36923,55015,15823,e=>{"use strict";var a=e.i(43476),r=e.i(18566);let t=[{id:"personal",name:"Personal",fullName:"Personal Information",description:"Your basic information",path:"/intake/personal"},{id:"family",name:"Family",fullName:"Family Members",description:"Spouse, children, dependents",path:"/intake/family"},{id:"assets",name:"Assets",fullName:"Assets & Property",description:"Property, accounts, valuables",path:"/intake/assets"},{id:"existing",name:"Documents",fullName:"Existing Documents",description:"Current estate planning docs",path:"/intake/existing"},{id:"goals",name:"Goals",fullName:"Goals & Wishes",description:"Your estate planning wishes",path:"/intake/goals"}];function l({currentStep:e,completedSteps:l,estatePlanId:s}){let n=(0,r.useRouter)(),i=t.findIndex(a=>a.id===e),d=(a,r)=>{let t=l.has(a.id),d=a.id===e;(t||r<i||d)&&n.push(`${a.path}?planId=${s}`)},o=(a,r)=>{let t=l.has(a.id),s=a.id===e;return t||r<i||s};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsxs)("nav",{"aria-label":"Progress",className:"relative",children:[(0,a.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200 dark:bg-gray-700",style:{left:"2.5rem",right:"2.5rem"}}),(0,a.jsx)("div",{className:"absolute top-5 h-0.5 bg-blue-600 transition-all duration-500",style:{left:"2.5rem",width:`calc(${i/(t.length-1)*100}% - 2.5rem)`}}),(0,a.jsx)("ol",{className:"relative flex items-start justify-between",children:t.map((r,t)=>{let s=l.has(r.id),n=r.id===e,i=o(r,t);return(0,a.jsxs)("li",{className:"flex flex-col items-center relative z-10",children:[(0,a.jsx)("button",{type:"button",onClick:()=>d(r,t),disabled:!i,className:`
                      relative flex h-10 w-10 items-center justify-center rounded-full
                      transition-all duration-200 bg-white dark:bg-gray-800
                      ${s?"bg-green-600 text-white ring-4 ring-green-100 dark:ring-green-900/30":n?"border-2 border-blue-600 ring-4 ring-blue-100 dark:ring-blue-900/30":"border-2 border-gray-300 dark:border-gray-600"}
                      ${i&&!n?"cursor-pointer hover:ring-4 hover:ring-gray-100 dark:hover:ring-gray-700":""}
                      ${!i?"cursor-not-allowed opacity-60":""}
                    `,"aria-current":n?"step":void 0,children:s?(0,a.jsx)("svg",{className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,a.jsx)("span",{className:`text-sm font-semibold ${n?"text-blue-600":"text-gray-500 dark:text-gray-400"}`,children:t+1})}),(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("span",{className:`text-sm font-medium block ${n?"text-blue-600 dark:text-blue-400":s?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:r.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-0.5 max-w-[100px] hidden lg:block",children:r.description})]})]},r.id)})})]})}),(0,a.jsxs)("div",{className:"md:hidden",children:[(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:["Step ",i+1," of ",t.length]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round((i+1)/t.length*100),"% complete"]})]}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t[i].fullName}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t[i].description})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${(i+1)/t.length*100}%`}})}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:t.map((r,t)=>{let s=l.has(r.id),n=r.id===e,i=o(r,t);return(0,a.jsxs)("button",{type:"button",onClick:()=>d(r,t),disabled:!i,className:`
                  flex-shrink-0 px-3 py-1.5 rounded-full text-xs font-medium
                  transition-all duration-200
                  ${s?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":n?"bg-blue-600 text-white":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"}
                  ${!i?"opacity-50 cursor-not-allowed":""}
                `,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:"âœ“"}),r.name]},r.id)})})]})]})}e.s(["STEPS",()=>t,"default",()=>l],63993);var s=e.i(71645);function n({status:e,lastSaved:r,errorMessage:t}){let[l,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if("saved"===e){n(!0);let e=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(e)}},[e]),"idle"!==e||r||l)?(0,a.jsx)("div",{className:`
        inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm
        transition-all duration-300
        ${"saving"===e?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"error"===e?"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300":l?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}
      `,children:"saving"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:"Saving..."})]}):"error"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:t||"Failed to save"})]}):l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"All changes saved"})]}):r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{children:["Last saved ",r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):null}):null}var i=e.i(83079);function d({currentStep:e,estatePlanId:l,onSaveAndExit:s,onSaveAndContinue:d,isSubmitting:o,canContinue:u,saveStatus:c="idle",lastSaved:g,nextStepLabel:x,isLastStep:b=!1}){let m=(0,r.useRouter)(),h=t.findIndex(a=>a.id===e),v=0===h,p=v?null:t[h-1];return(0,a.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n,{status:c,lastSaved:g})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"w-full sm:w-auto order-2 sm:order-1",children:v?(0,a.jsx)("div",{}):(0,a.jsxs)(i.default,{variant:"ghost",onClick:()=>{p&&m.push(`${p.path}?planId=${l}`)},disabled:o,leftIcon:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),fullWidth:!0,className:"sm:w-auto",children:["Back to ",p?.name]})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto order-1 sm:order-2",children:[(0,a.jsx)(i.default,{variant:"outline",onClick:s,disabled:o,fullWidth:!0,className:"sm:w-auto",children:"Save & Exit"}),(0,a.jsx)(i.default,{variant:"primary",onClick:d,disabled:o||!u,isLoading:o,rightIcon:!o&&(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),fullWidth:!0,className:"sm:w-auto",children:(()=>{if(o)return"Saving...";if(x)return x;if(b)return"Complete Intake";let e=t[h+1];return e?`Continue to ${e.name}`:"Complete"})()})]})]}),!u&&(0,a.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400 text-center sm:text-right",children:"Please complete all required fields to continue"})]})}function o({label:e,required:r,error:t,hint:l,helpText:n,showSuccess:i,children:d}){let o=(0,s.useId)(),u=!!t;return(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e,r&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),i&&!u&&(0,a.jsxs)("span",{className:"flex items-center text-xs text-green-600 dark:text-green-400",children:[(0,a.jsx)("svg",{className:"w-3.5 h-3.5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Valid"]})]}),n&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-start gap-1.5",children:[(0,a.jsx)("svg",{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]}),d,l&&!t&&(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l}),t&&(0,a.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t]})]})}function u({value:e,onChange:r,placeholder:t,type:l="text",disabled:s,required:n,error:i,success:d,autoComplete:o,inputMode:u,pattern:c,maxLength:g,name:x}){return(0,a.jsx)("input",{type:l,name:x,value:e,onChange:e=>r(e.target.value),placeholder:t,disabled:s,required:n,autoComplete:o,inputMode:u,pattern:c,maxLength:g,className:`
        w-full px-3 py-2.5 border rounded-lg
        bg-white dark:bg-gray-800 text-gray-900 dark:text-white
        placeholder-gray-400 dark:placeholder-gray-500
        transition-all duration-150
        focus:outline-none focus:ring-2 focus:ring-offset-0
        disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:opacity-60
        ${i?"border-red-500 focus:ring-red-500 focus:border-red-500":d?"border-green-500 focus:ring-green-500 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"}
      `})}function c({value:e,onChange:r,options:t,placeholder:l,disabled:s,error:n,success:i,name:d}){return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{name:d,value:e,onChange:e=>r(e.target.value),disabled:s,className:`
          w-full px-3 py-2.5 border rounded-lg appearance-none
          bg-white dark:bg-gray-800 text-gray-900 dark:text-white
          transition-all duration-150
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:opacity-60
          ${n?"border-red-500 focus:ring-red-500 focus:border-red-500":i?"border-green-500 focus:ring-green-500 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"}
        `,children:[l&&(0,a.jsx)("option",{value:"",disabled:!0,children:l}),t.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}function g({value:e,onChange:r,options:t,name:l,disabled:s,columns:n=1}){return(0,a.jsx)("div",{className:`grid gap-3 ${2===n?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:t.map(t=>(0,a.jsxs)("label",{className:`
            relative flex items-start p-4 border-2 rounded-xl cursor-pointer
            transition-all duration-200
            ${e===t.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-1 ring-blue-500":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800/50"}
            ${s?"opacity-50 cursor-not-allowed":""}
          `,children:[(0,a.jsx)("input",{type:"radio",name:l,value:t.value,checked:e===t.value,onChange:e=>r(e.target.value),disabled:s,className:"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 focus:ring-offset-0"}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("span",{className:`text-sm font-medium ${e===t.value?"text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:t.label}),t.description&&(0,a.jsx)("p",{className:`text-xs mt-0.5 ${e===t.value?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:t.description})]}),e===t.value&&(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},t.value))})}function x({checked:e,onChange:r,label:t,description:l,disabled:s}){return(0,a.jsxs)("label",{className:`
        relative flex items-start p-4 border-2 rounded-xl cursor-pointer
        transition-all duration-200
        ${e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-1 ring-blue-500":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800/50"}
        ${s?"opacity-50 cursor-not-allowed":""}
      `,children:[(0,a.jsx)("input",{type:"checkbox",checked:e,onChange:e=>r(e.target.checked),disabled:s,className:"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-offset-0"}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("span",{className:`text-sm font-medium ${e?"text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:t}),l&&(0,a.jsx)("p",{className:`text-xs mt-0.5 ${e?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:l})]}),e&&(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}function b({value:e,onChange:r,placeholder:t,rows:l=3,disabled:s,error:n,success:i,maxLength:d,showCount:o}){return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{value:e,onChange:e=>r(e.target.value),placeholder:t,rows:l,disabled:s,maxLength:d,className:`
          w-full px-3 py-2.5 border rounded-lg resize-none
          bg-white dark:bg-gray-800 text-gray-900 dark:text-white
          placeholder-gray-400 dark:placeholder-gray-500
          transition-all duration-150
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed disabled:opacity-60
          ${n?"border-red-500 focus:ring-red-500 focus:border-red-500":i?"border-green-500 focus:ring-green-500 focus:border-green-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"}
        `}),o&&d&&(0,a.jsxs)("div",{className:"absolute bottom-2 right-3 text-xs text-gray-400",children:[e.length,"/",d]})]})}function m({title:e,description:r,children:t,badge:l}){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e}),l]}),r&&(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:r})]}),(0,a.jsx)("div",{className:"space-y-4",children:t})]})}function h({type:e="info",title:r,children:t}){let l={info:{container:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",title:"text-blue-800 dark:text-blue-200"},warning:{container:"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800",icon:"text-amber-600 dark:text-amber-400",title:"text-amber-800 dark:text-amber-200"},tip:{container:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",icon:"text-green-600 dark:text-green-400",title:"text-green-800 dark:text-green-200"}},s={info:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),tip:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})};return(0,a.jsx)("div",{className:`rounded-lg border p-4 ${l[e].container}`,children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:`flex-shrink-0 ${l[e].icon}`,children:s[e]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[r&&(0,a.jsx)("h4",{className:`font-medium mb-1 ${l[e].title}`,children:r}),(0,a.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:t})]})]})})}e.s(["default",()=>d],35456),e.s(["Checkbox",()=>x,"FormField",()=>o,"FormSection",()=>m,"InfoBox",()=>h,"RadioGroup",()=>g,"Select",()=>c,"TextArea",()=>b,"TextInput",()=>u],36923),e.i(50711);var v=e.i(82045),p=e.i(83394);let f={personal:"personal",family:"family",assets:"assets",existing:"existing_documents",goals:"goals"},y={personal:{next:"family",nextLabel:"Continue to Family"},family:{next:"assets",nextLabel:"Continue to Assets"},assets:{next:"existing",nextLabel:"Continue to Documents"},existing:{next:"goals",nextLabel:"Continue to Goals"},goals:{next:"complete",nextLabel:"Review & Complete"}};function k(){return new Date().getFullYear()}function j(e,a){let t=(0,r.useRouter)(),l=(0,r.useSearchParams)().get("planId"),[n,i]=(0,s.useState)(a),[d,o]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!1),[g,x]=(0,s.useState)("idle"),[b,m]=(0,s.useState)(null),[h,k]=(0,s.useState)(null),[j,N]=(0,s.useState)(new Set),[w,C]=(0,s.useState)(!1),L=(0,s.useRef)(null),M=(0,s.useRef)(n);(0,s.useEffect)(()=>{M.current=n},[n]);let S=(0,v.useQuery)(p.api.queries.getIntakeSection,l?{estatePlanId:l,section:f[e]}:"skip"),I=(0,v.useQuery)(p.api.extractedData.getExtractedDataBySection,l?{estatePlanId:l,section:f[e]}:"skip"),$=(0,v.useQuery)(p.api.queries.getIntakeProgress,l?{estatePlanId:l}:"skip"),z=(0,v.useMutation)(p.api.estatePlanning.updateIntakeData);(0,s.useEffect)(()=>{if(void 0===S||void 0===I||w)return;let e={},r={};if(S?.data)try{e=JSON.parse(S.data)}catch(e){console.error("Failed to parse existing intake data:",e)}I?.parsedData&&(r=I.parsedData);let t={...a},l=new Set;for(let[e,a]of Object.entries(r))null!=a&&""!==a&&(t[e]=a,l.add(e));for(let[a,s]of Object.entries(e))null!=s&&""!==s&&(t[a]=s,r[a]!==s&&l.delete(a));i(t),M.current=t,N(l),C(!0)},[S,I,a,w]),(0,s.useEffect)(()=>()=>{L.current&&clearTimeout(L.current)},[]);let R=(0,s.useCallback)(async(a,r=!1)=>{if(!l)return console.error("No estate plan ID"),!1;x("saving"),k(null);try{return await z({estatePlanId:l,section:f[e],data:JSON.stringify(a),isComplete:r}),c(!1),x("saved"),m(new Date),!0}catch(e){return console.error("Failed to save intake data:",e),x("error"),k(e instanceof Error?e.message:"Failed to save"),!1}},[l,e,z]),A=(0,s.useCallback)(()=>{L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{await R(M.current,!1)},2e3)},[R]),B=(0,s.useCallback)((e,a)=>{i(r=>({...r,[e]:a})),c(!0),x("idle"),A()},[A]),T=(0,s.useCallback)(async()=>{L.current&&clearTimeout(L.current),o(!0);try{await R(n,!1)}finally{o(!1)}},[R,n]),D=(0,s.useCallback)(async()=>{L.current&&clearTimeout(L.current),o(!0);try{if(await R(n,!0)){let a=y[e];"complete"===a.next?t.push(`/intake?planId=${l}&complete=true`):t.push(`/intake/${a.next}?planId=${l}`)}}finally{o(!1)}},[R,n,e,t,l]),W=(0,s.useCallback)(async()=>{L.current&&clearTimeout(L.current),o(!0);try{await R(n,!1),t.push(`/intake?planId=${l}`)}finally{o(!1)}},[R,n,t,l]),F=new Set;if($?.sections){for(let[e,a]of Object.entries($.sections))if(a.isComplete){let a=Object.entries(f).find(([a,r])=>r===e);a&&F.add(a[0])}}let P=y[e],O=(0,s.useCallback)(e=>j.has(e),[j]),E=I?.confidence;return{formData:n,setFormData:i,updateField:B,save:T,saveAndContinue:D,saveAndExit:W,isSubmitting:d,hasChanges:u,estatePlanId:l,completedSteps:F,progress:$,isLoading:void 0===S||void 0===I||!w,saveStatus:g,lastSaved:b,saveError:h,nextStepLabel:P.nextLabel,isLastStep:"complete"===P.next,extractedFields:j,isFieldExtracted:O,extractionConfidence:E,hasExtractedData:j.size>0}}function N(e,a){let r=(0,v.useQuery)(p.api.queries.getIntakeSection,e?{estatePlanId:e,section:a}:"skip");if(void 0===r)return{data:null,isLoading:!0};if(!r?.data)return{data:null,isLoading:!1};try{return{data:JSON.parse(r.data),isLoading:!1}}catch{return{data:null,isLoading:!1}}}function w(){return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("span",{children:"From Document"})]})}function C(){return(0,a.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,a.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{children:["Some fields have been pre-filled from your uploaded documents. Look for the"," ",(0,a.jsx)(w,{})," badge. Review and update as needed."]})]})})}e.s(["US_STATES",0,[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"},{value:"DC",label:"District of Columbia"}],"getCurrentYear",()=>k,"useIntakeForm",()=>j,"useOtherSectionData",()=>N],55015),e.s(["ExtractedBadge",()=>w,"ExtractedDataBanner",()=>C],15823)}]);