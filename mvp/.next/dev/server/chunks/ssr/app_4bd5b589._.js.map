{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/prestondinh/SICC/mvp/app/components/SaveProgressPrompt.tsx"],"sourcesContent":["\"use client\";\n\nimport { SignUpButton, useUser } from \"@clerk/nextjs\";\nimport { useState, useEffect } from \"react\";\n\ninterface SaveProgressPromptProps {\n  // Show after completing this many sections\n  showAfterSections?: number;\n  completedSections?: number;\n  // Can be dismissed\n  dismissable?: boolean;\n}\n\nexport default function SaveProgressPrompt({\n  showAfterSections = 2,\n  completedSections = 0,\n  dismissable = true,\n}: SaveProgressPromptProps) {\n  const { isSignedIn, isLoaded } = useUser();\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  // Check localStorage for previous dismissal\n  useEffect(() => {\n    const dismissed = localStorage.getItem(\"saveProgressPromptDismissed\");\n    if (dismissed) {\n      const dismissedTime = parseInt(dismissed);\n      // Show again after 24 hours\n      if (Date.now() - dismissedTime < 24 * 60 * 60 * 1000) {\n        setIsDismissed(true);\n      }\n    }\n  }, []);\n\n  const handleDismiss = () => {\n    setIsDismissed(true);\n    localStorage.setItem(\"saveProgressPromptDismissed\", Date.now().toString());\n  };\n\n  // Don't show if:\n  // - User is signed in\n  // - Not enough sections completed\n  // - Already dismissed\n  // - Not loaded yet\n  if (!isLoaded || isSignedIn || completedSections < showAfterSections || isDismissed) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-4 mb-6 shadow-lg\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex-shrink-0\">\n          <svg\n            className=\"w-8 h-8 text-white/90\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"\n            />\n          </svg>\n        </div>\n        <div className=\"flex-1\">\n          <h3 className=\"text-white font-semibold\">Save Your Progress</h3>\n          <p className=\"text-white/80 text-sm mt-1\">\n            Create a free account to save your answers and access your estate plan from any device.\n          </p>\n          <div className=\"flex items-center gap-3 mt-3\">\n            <SignUpButton mode=\"modal\">\n              <button className=\"px-4 py-2 bg-white text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors\">\n                Create Free Account\n              </button>\n            </SignUpButton>\n            {dismissable && (\n              <button\n                onClick={handleDismiss}\n                className=\"text-white/70 hover:text-white text-sm transition-colors\"\n              >\n                Maybe later\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAae,SAAS,mBAAmB,EACzC,oBAAoB,CAAC,EACrB,oBAAoB,CAAC,EACrB,cAAc,IAAI,EACM;IACxB,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,kLAAO;IACxC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,4CAA4C;IAC5C,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,MAAM,gBAAgB,SAAS;YAC/B,4BAA4B;YAC5B,IAAI,KAAK,GAAG,KAAK,gBAAgB,KAAK,KAAK,KAAK,MAAM;gBACpD,eAAe;YACjB;QACF;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,eAAe;QACf,aAAa,OAAO,CAAC,+BAA+B,KAAK,GAAG,GAAG,QAAQ;IACzE;IAEA,iBAAiB;IACjB,sBAAsB;IACtB,kCAAkC;IAClC,sBAAsB;IACtB,mBAAmB;IACnB,IAAI,CAAC,YAAY,cAAc,oBAAoB,qBAAqB,aAAa;QACnF,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;8BAIR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA2B;;;;;;sCACzC,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAG1C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,2LAAY;oCAAC,MAAK;8CACjB,cAAA,8OAAC;wCAAO,WAAU;kDAAqG;;;;;;;;;;;gCAIxH,6BACC,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/prestondinh/SICC/mvp/app/intake/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Suspense, useEffect, useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useMutation, useQuery } from \"convex/react\";\nimport { api } from \"../../convex/_generated/api\";\nimport { Id } from \"../../convex/_generated/dataModel\";\nimport Link from \"next/link\";\nimport SaveProgressPrompt from \"../components/SaveProgressPrompt\";\n\nfunction IntakeLandingContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const planId = searchParams.get(\"planId\");\n  const isComplete = searchParams.get(\"complete\") === \"true\";\n\n  const [isCreating, setIsCreating] = useState(false);\n\n  const createEstatePlan = useMutation(api.estatePlanning.createEstatePlan);\n\n  // Get existing plan if planId is provided\n  const existingPlan = useQuery(\n    api.queries.getEstatePlan,\n    planId ? { estatePlanId: planId as Id<\"estatePlans\"> } : \"skip\"\n  );\n\n  // Get intake progress if we have a plan\n  const intakeProgress = useQuery(\n    api.queries.getIntakeProgress,\n    planId ? { estatePlanId: planId as Id<\"estatePlans\"> } : \"skip\"\n  );\n\n  // Get extracted data if available\n  const extractedData = useQuery(\n    api.extractedData.getExtractedData,\n    planId ? { estatePlanId: planId as Id<\"estatePlans\"> } : \"skip\"\n  );\n\n  // Get uploaded documents count\n  const uploadedDocs = useQuery(\n    api.uploadedDocuments.getUploadedDocuments,\n    planId ? { estatePlanId: planId as Id<\"estatePlans\"> } : \"skip\"\n  );\n\n  const hasExtractedData = extractedData && extractedData.length > 0;\n  const hasUploadedDocs = uploadedDocs && uploadedDocs.length > 0;\n\n  // Navigate to upload step for new users (document-first flow)\n  const handleStartWithDocuments = async () => {\n    setIsCreating(true);\n    try {\n      const sessionId = `session_${Date.now()}_${Math.random().toString(36).substring(7)}`;\n      const newPlanId = await createEstatePlan({\n        sessionId,\n        name: \"My Estate Plan\",\n      });\n      localStorage.setItem(\"estatePlanSessionId\", sessionId);\n      localStorage.setItem(\"estatePlanId\", newPlanId);\n      router.push(`/intake/upload?planId=${newPlanId}`);\n    } catch (error) {\n      console.error(\"Failed to create estate plan:\", error);\n      setIsCreating(false);\n    }\n  };\n\n  const handleStartNew = async () => {\n    setIsCreating(true);\n    try {\n      // Generate a session ID for anonymous users\n      const sessionId = `session_${Date.now()}_${Math.random().toString(36).substring(7)}`;\n\n      const newPlanId = await createEstatePlan({\n        sessionId,\n        name: \"My Estate Plan\",\n      });\n\n      // Store session ID in localStorage for retrieval\n      localStorage.setItem(\"estatePlanSessionId\", sessionId);\n      localStorage.setItem(\"estatePlanId\", newPlanId);\n\n      router.push(`/intake/personal?planId=${newPlanId}`);\n    } catch (error) {\n      console.error(\"Failed to create estate plan:\", error);\n      setIsCreating(false);\n    }\n  };\n\n  // Check localStorage for existing plan on mount\n  useEffect(() => {\n    if (!planId) {\n      const savedPlanId = localStorage.getItem(\"estatePlanId\");\n      if (savedPlanId) {\n        router.replace(`/intake?planId=${savedPlanId}`);\n      }\n    }\n  }, [planId, router]);\n\n  // Show completion state\n  if (isComplete && planId) {\n    return (\n      <div className=\"max-w-2xl mx-auto text-center space-y-6\">\n        <div className=\"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto\">\n          <svg className=\"w-10 h-10 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n          </svg>\n        </div>\n\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n          Intake Complete!\n        </h1>\n\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          You&apos;ve provided all the information we need. Now let&apos;s analyze your estate planning situation and identify any gaps.\n        </p>\n\n        <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n          <Link\n            href={`/analysis/${planId}`}\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n          >\n            Run Gap Analysis\n          </Link>\n          <Link\n            href={`/intake/personal?planId=${planId}`}\n            className=\"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            Review Answers\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  // Show existing plan progress\n  if (existingPlan && intakeProgress) {\n    // Calculate completed sections for SaveProgressPrompt\n    const completedSections = Object.values(intakeProgress.sections).filter(s => s.isComplete).length;\n\n    return (\n      <div className=\"max-w-2xl mx-auto space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n            {existingPlan.name || \"Your Estate Plan\"}\n          </h1>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-2\">\n            Continue where you left off\n          </p>\n        </div>\n\n        {/* Extracted Data Banner */}\n        {hasExtractedData && (\n          <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center\">\n                <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n              <div>\n                <p className=\"font-medium text-blue-800 dark:text-blue-200\">\n                  Pre-filled data available\n                </p>\n                <p className=\"text-sm text-blue-700 dark:text-blue-300 mt-1\">\n                  We extracted information from your {uploadedDocs?.length || 0} uploaded document{(uploadedDocs?.length || 0) !== 1 ? 's' : ''}.\n                  Fields with extracted data will be marked with a blue badge.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Upload Documents Link */}\n        {!hasUploadedDocs && (\n          <Link\n            href={`/intake/upload?planId=${planId}`}\n            className=\"block bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-colors\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center\">\n                <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                </svg>\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"font-medium text-gray-900 dark:text-white\">\n                  Have existing documents?\n                </p>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  Upload your will, trust, or POA to auto-fill your questionnaire\n                </p>\n              </div>\n              <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </div>\n          </Link>\n        )}\n\n        {/* Save Progress Prompt for anonymous users */}\n        <SaveProgressPrompt completedSections={completedSections} showAfterSections={2} />\n\n        {/* Progress Overview */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              Intake Progress\n            </h2>\n            <span className=\"text-2xl font-bold text-blue-600\">\n              {intakeProgress.percentComplete}%\n            </span>\n          </div>\n\n          <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-6\">\n            <div\n              className=\"bg-blue-600 h-3 rounded-full transition-all duration-300\"\n              style={{ width: `${intakeProgress.percentComplete}%` }}\n            />\n          </div>\n\n          <div className=\"space-y-3\">\n            {Object.entries(intakeProgress.sections).map(([section, status]) => {\n              const sectionNames: Record<string, string> = {\n                personal: \"Personal Information\",\n                family: \"Family Information\",\n                assets: \"Assets Overview\",\n                existing_documents: \"Existing Documents\",\n                goals: \"Goals & Wishes\",\n              };\n\n              const sectionPaths: Record<string, string> = {\n                personal: \"personal\",\n                family: \"family\",\n                assets: \"assets\",\n                existing_documents: \"existing\",\n                goals: \"goals\",\n              };\n\n              return (\n                <Link\n                  key={section}\n                  href={`/intake/${sectionPaths[section]}?planId=${planId}`}\n                  className={`\n                    flex items-center justify-between p-3 rounded-lg transition-colors\n                    ${status.isComplete\n                      ? \"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30\"\n                      : status.exists\n                        ? \"bg-yellow-50 dark:bg-yellow-900/20 hover:bg-yellow-100 dark:hover:bg-yellow-900/30\"\n                        : \"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600\"\n                    }\n                  `}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div\n                      className={`\n                        w-6 h-6 rounded-full flex items-center justify-center\n                        ${status.isComplete\n                          ? \"bg-green-500 text-white\"\n                          : status.exists\n                            ? \"bg-yellow-500 text-white\"\n                            : \"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-300\"\n                        }\n                      `}\n                    >\n                      {status.isComplete ? (\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                        </svg>\n                      ) : status.exists ? (\n                        <span className=\"text-xs\">...</span>\n                      ) : (\n                        <span className=\"text-xs\">â—‹</span>\n                      )}\n                    </div>\n                    <span className=\"font-medium text-gray-900 dark:text-white\">\n                      {sectionNames[section]}\n                    </span>\n                  </div>\n                  <span\n                    className={`\n                      text-sm\n                      ${status.isComplete\n                        ? \"text-green-600\"\n                        : status.exists\n                          ? \"text-yellow-600\"\n                          : \"text-gray-500\"\n                      }\n                    `}\n                  >\n                    {status.isComplete ? \"Complete\" : status.exists ? \"In Progress\" : \"Not Started\"}\n                  </span>\n                </Link>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          {intakeProgress.isAllComplete ? (\n            <Link\n              href={`/analysis/${planId}`}\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium text-center hover:bg-blue-700 transition-colors\"\n            >\n              Continue to Gap Analysis\n            </Link>\n          ) : (\n            <Link\n              href={`/intake/${getNextIncompleteSection(intakeProgress.sections)}?planId=${planId}`}\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium text-center hover:bg-blue-700 transition-colors\"\n            >\n              Continue Intake\n            </Link>\n          )}\n          <button\n            onClick={() => {\n              localStorage.removeItem(\"estatePlanId\");\n              localStorage.removeItem(\"estatePlanSessionId\");\n              router.push(\"/intake\");\n            }}\n            className=\"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            Start New Plan\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // New user - show document-first flow\n  return (\n    <div className=\"max-w-2xl mx-auto text-center space-y-8\">\n      {/* Hero Section */}\n      <div className=\"space-y-4\">\n        <div className=\"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl mb-2 shadow-lg\">\n          <svg className=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n        </div>\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n          Let&apos;s Review Your Documents\n        </h1>\n        <p className=\"text-lg text-gray-600 dark:text-gray-400 max-w-lg mx-auto\">\n          Upload your existing estate planning documents and we&apos;ll automatically extract your information.\n        </p>\n      </div>\n\n      {/* Primary CTA - Upload Documents */}\n      <div className=\"space-y-4\">\n        <button\n          onClick={handleStartWithDocuments}\n          disabled={isCreating}\n          className=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl p-6 hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl group\"\n        >\n          <div className=\"flex items-center justify-center gap-4\">\n            <div className=\"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center\">\n              <svg className=\"w-7 h-7\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n            </div>\n            <div className=\"text-left flex-1\">\n              <h3 className=\"font-semibold text-xl mb-1\">Upload Your Documents</h3>\n              <p className=\"text-blue-100 text-sm\">\n                Wills, trusts, powers of attorney, healthcare directives\n              </p>\n            </div>\n            <svg className=\"w-6 h-6 group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </div>\n        </button>\n\n        {/* Benefits */}\n        <div className=\"grid grid-cols-3 gap-3 text-sm\">\n          <div className=\"flex flex-col items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n            <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-green-700 dark:text-green-300 font-medium\">Save 15+ min</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n            <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span className=\"text-blue-700 dark:text-blue-300 font-medium\">Auto-fill forms</span>\n          </div>\n          <div className=\"flex flex-col items-center gap-2 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n            <svg className=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n            </svg>\n            <span className=\"text-purple-700 dark:text-purple-300 font-medium\">AI analysis</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Loading State */}\n      {isCreating && (\n        <div className=\"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400\">\n          <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n          </svg>\n          Creating your estate plan...\n        </div>\n      )}\n\n      {/* Supported Document Types */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 text-left\">\n        <h2 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          Supported Documents\n        </h2>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm\">\n          {[\n            \"Last Will & Testament\",\n            \"Revocable Living Trust\",\n            \"Irrevocable Trust\",\n            \"Power of Attorney\",\n            \"Healthcare Proxy\",\n            \"Advance Directive\",\n            \"Beneficiary Forms\",\n            \"Property Deeds\",\n            \"Insurance Policies\",\n          ].map((doc) => (\n            <div key={doc} className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400\">\n              <svg className=\"w-4 h-4 text-green-500 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <span>{doc}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Secondary Option - Start Fresh */}\n      <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n        <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-3\">\n          Don&apos;t have documents yet?\n        </p>\n        <button\n          onClick={handleStartNew}\n          disabled={isCreating}\n          className=\"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm inline-flex items-center gap-1 disabled:opacity-50\"\n        >\n          Start with a blank questionnaire\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n          </svg>\n        </button>\n        <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n          Takes about 15-20 minutes to complete manually\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction getNextIncompleteSection(sections: Record<string, { exists: boolean; isComplete: boolean }>) {\n  const order = [\"personal\", \"family\", \"assets\", \"existing_documents\", \"goals\"];\n  const paths: Record<string, string> = {\n    personal: \"personal\",\n    family: \"family\",\n    assets: \"assets\",\n    existing_documents: \"existing\",\n    goals: \"goals\",\n  };\n\n  for (const section of order) {\n    if (!sections[section]?.isComplete) {\n      return paths[section];\n    }\n  }\n  return \"personal\";\n}\n\nexport default function IntakePage() {\n  return (\n    <Suspense fallback={\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    }>\n      <IntakeLandingContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}