{"version":3,"sources":["../../../../app/intake/upload/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Suspense, useCallback, useEffect, useRef, useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useMutation, useQuery, useAction } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { Id } from \"../../../convex/_generated/dataModel\";\nimport Link from \"next/link\";\n\ntype DocumentType =\n  | \"will\"\n  | \"trust\"\n  | \"poa_financial\"\n  | \"poa_healthcare\"\n  | \"healthcare_directive\"\n  | \"deed\"\n  | \"insurance_policy\"\n  | \"beneficiary_form\"\n  | \"tax_return\"\n  | \"other\";\n\nconst DOCUMENT_TYPE_OPTIONS: Array<{ value: DocumentType; label: string; description: string }> = [\n  { value: \"will\", label: \"Will\", description: \"Last Will and Testament\" },\n  { value: \"trust\", label: \"Trust\", description: \"Revocable or Irrevocable Trust\" },\n  { value: \"poa_financial\", label: \"Financial POA\", description: \"Power of Attorney for Finances\" },\n  { value: \"poa_healthcare\", label: \"Healthcare POA\", description: \"Healthcare Power of Attorney\" },\n  { value: \"healthcare_directive\", label: \"Healthcare Directive\", description: \"Living Will / Advance Directive\" },\n  { value: \"deed\", label: \"Deed\", description: \"Property Deed or Title\" },\n  { value: \"insurance_policy\", label: \"Insurance Policy\", description: \"Life Insurance or Annuity\" },\n  { value: \"beneficiary_form\", label: \"Beneficiary Form\", description: \"Beneficiary Designation\" },\n  { value: \"tax_return\", label: \"Tax Return\", description: \"Federal or State Income Tax Return\" },\n  { value: \"other\", label: \"Other\", description: \"Other Estate Document\" },\n];\n\ninterface UploadedDoc {\n  _id: Id<\"uploadedDocuments\">;\n  fileName: string;\n  documentType: DocumentType;\n  analysisStatus: string;\n}\n\nfunction UploadStepContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const planId = searchParams.get(\"planId\");\n\n  // State\n  const [isCreatingPlan, setIsCreatingPlan] = useState(false);\n  const [currentPlanId, setCurrentPlanId] = useState<Id<\"estatePlans\"> | null>(\n    planId ? (planId as Id<\"estatePlans\">) : null\n  );\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const [selectedType, setSelectedType] = useState<DocumentType>(\"will\");\n  const [isDragging, setIsDragging] = useState(false);\n  const [isExtracting, setIsExtracting] = useState(false);\n  const [extractionComplete, setExtractionComplete] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Mutations & Actions\n  const createEstatePlan = useMutation(api.estatePlanning.createEstatePlan);\n  const generateUploadUrl = useMutation(api.uploadedDocuments.generateUploadUrl);\n  const saveUploadedDocument = useMutation(api.uploadedDocuments.saveUploadedDocument);\n  const deleteDocument = useMutation(api.uploadedDocuments.deleteUploadedDocument);\n  const analyzeDocument = useAction(api.documentAnalysis.analyzeDocument);\n  const extractIntakeData = useAction(api.documentExtraction.extractIntakeData);\n\n  // Queries\n  const uploadedDocs = useQuery(\n    api.uploadedDocuments.getUploadedDocuments,\n    currentPlanId ? { estatePlanId: currentPlanId } : \"skip\"\n  ) as UploadedDoc[] | undefined;\n\n  const extractedData = useQuery(\n    api.extractedData.getExtractedData,\n    currentPlanId ? { estatePlanId: currentPlanId } : \"skip\"\n  );\n\n  // Create a new estate plan if needed\n  useEffect(() => {\n    const initializePlan = async () => {\n      if (!planId && !currentPlanId && !isCreatingPlan) {\n        // Check localStorage for existing plan\n        const savedPlanId = localStorage.getItem(\"estatePlanId\");\n        if (savedPlanId) {\n          setCurrentPlanId(savedPlanId as Id<\"estatePlans\">);\n          router.replace(`/intake/upload?planId=${savedPlanId}`);\n          return;\n        }\n\n        // Create new plan\n        setIsCreatingPlan(true);\n        try {\n          const sessionId = `session_${Date.now()}_${Math.random().toString(36).substring(7)}`;\n          const newPlanId = await createEstatePlan({\n            sessionId,\n            name: \"My Estate Plan\",\n          });\n          localStorage.setItem(\"estatePlanSessionId\", sessionId);\n          localStorage.setItem(\"estatePlanId\", newPlanId);\n          setCurrentPlanId(newPlanId);\n          router.replace(`/intake/upload?planId=${newPlanId}`);\n        } catch (error) {\n          console.error(\"Failed to create estate plan:\", error);\n        } finally {\n          setIsCreatingPlan(false);\n        }\n      }\n    };\n\n    initializePlan();\n  }, [planId, currentPlanId, isCreatingPlan, createEstatePlan, router]);\n\n  // Handle file upload\n  const handleFileUpload = useCallback(\n    async (file: File) => {\n      if (!currentPlanId) return;\n\n      if (!file.type.includes(\"pdf\")) {\n        setUploadError(\"Please upload a PDF file\");\n        return;\n      }\n\n      if (file.size > 20 * 1024 * 1024) {\n        setUploadError(\"File size must be less than 20MB\");\n        return;\n      }\n\n      setIsUploading(true);\n      setUploadProgress(10);\n      setUploadError(null);\n\n      try {\n        // Get upload URL\n        const uploadUrl = await generateUploadUrl();\n        setUploadProgress(30);\n\n        // Upload file\n        const result = await fetch(uploadUrl, {\n          method: \"POST\",\n          headers: { \"Content-Type\": file.type },\n          body: file,\n        });\n\n        if (!result.ok) {\n          throw new Error(\"Upload failed\");\n        }\n\n        const { storageId } = await result.json();\n        setUploadProgress(60);\n\n        // Save document metadata\n        const docId = await saveUploadedDocument({\n          estatePlanId: currentPlanId,\n          storageId,\n          fileName: file.name,\n          fileSize: file.size,\n          mimeType: file.type,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          documentType: selectedType as any,\n        });\n        setUploadProgress(80);\n\n        // Start analysis (for document insights)\n        analyzeDocument({ documentId: docId });\n        setUploadProgress(100);\n\n        // Reset\n        if (fileInputRef.current) {\n          fileInputRef.current.value = \"\";\n        }\n      } catch (error) {\n        setUploadError(error instanceof Error ? error.message : \"Upload failed\");\n      } finally {\n        setIsUploading(false);\n        setUploadProgress(0);\n      }\n    },\n    [currentPlanId, selectedType, generateUploadUrl, saveUploadedDocument, analyzeDocument]\n  );\n\n  // Drag and drop handlers\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      setIsDragging(false);\n      const files = e.dataTransfer.files;\n      if (files.length > 0) {\n        handleFileUpload(files[0]);\n      }\n    },\n    [handleFileUpload]\n  );\n\n  // Handle document deletion\n  const handleDelete = useCallback(\n    async (docId: Id<\"uploadedDocuments\">) => {\n      if (confirm(\"Delete this document?\")) {\n        await deleteDocument({ documentId: docId });\n      }\n    },\n    [deleteDocument]\n  );\n\n  // Handle extraction\n  const handleExtractData = useCallback(async () => {\n    if (!currentPlanId) return;\n\n    setIsExtracting(true);\n    try {\n      const result = await extractIntakeData({ estatePlanId: currentPlanId });\n      if (result.success) {\n        setExtractionComplete(true);\n      } else {\n        setUploadError(result.error || \"Extraction failed\");\n      }\n    } catch (error) {\n      setUploadError(error instanceof Error ? error.message : \"Extraction failed\");\n    } finally {\n      setIsExtracting(false);\n    }\n  }, [currentPlanId, extractIntakeData]);\n\n  // Continue to questionnaire\n  const handleContinue = () => {\n    if (currentPlanId) {\n      router.push(`/intake/personal?planId=${currentPlanId}`);\n    }\n  };\n\n  // Skip upload step\n  const handleSkip = () => {\n    if (currentPlanId) {\n      router.push(`/intake/personal?planId=${currentPlanId}`);\n    }\n  };\n\n  // Loading state\n  if (isCreatingPlan) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  const hasDocuments = uploadedDocs && uploadedDocs.length > 0;\n  const hasExtractedData = extractedData && extractedData.length > 0;\n\n  return (\n    <div className=\"max-w-3xl mx-auto space-y-8\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4\">\n          <svg\n            className=\"w-8 h-8 text-blue-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n        </div>\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n          Do you have existing estate documents?\n        </h1>\n        <p className=\"text-gray-600 dark:text-gray-400 mt-2 max-w-xl mx-auto\">\n          Upload your existing wills, trusts, or powers of attorney. We&apos;ll extract information\n          to pre-fill your questionnaire and save you time.\n        </p>\n      </div>\n\n      {/* Upload Section */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\n          Upload Documents\n        </h2>\n\n        {/* Document Type Selection */}\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Document Type\n          </label>\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n            {DOCUMENT_TYPE_OPTIONS.slice(0, 6).map((opt) => (\n              <button\n                key={opt.value}\n                type=\"button\"\n                onClick={() => setSelectedType(opt.value)}\n                className={`\n                  p-3 rounded-lg border text-left transition-colors text-sm\n                  ${selectedType === opt.value\n                    ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\"\n                    : \"border-gray-200 dark:border-gray-700 hover:border-blue-300\"\n                  }\n                `}\n              >\n                <div className=\"font-medium text-gray-900 dark:text-white\">\n                  {opt.label}\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                  {opt.description}\n                </div>\n              </button>\n            ))}\n          </div>\n          <div className=\"mt-2 flex gap-2\">\n            {DOCUMENT_TYPE_OPTIONS.slice(6).map((opt) => (\n              <button\n                key={opt.value}\n                type=\"button\"\n                onClick={() => setSelectedType(opt.value)}\n                className={`\n                  px-3 py-1.5 rounded-lg border text-sm transition-colors\n                  ${selectedType === opt.value\n                    ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300\"\n                    : \"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-blue-300\"\n                  }\n                `}\n              >\n                {opt.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Drop Zone */}\n        <div\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n          onClick={() => fileInputRef.current?.click()}\n          className={`\n            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n            ${isDragging\n              ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\"\n              : \"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500\"\n            }\n            ${isUploading ? \"pointer-events-none opacity-50\" : \"\"}\n          `}\n        >\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\".pdf\"\n            onChange={(e) => e.target.files?.[0] && handleFileUpload(e.target.files[0])}\n            className=\"hidden\"\n          />\n\n          {isUploading ? (\n            <div>\n              <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3\"></div>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                Uploading... {uploadProgress}%\n              </p>\n            </div>\n          ) : (\n            <>\n              <svg\n                className=\"w-10 h-10 mx-auto mb-3 text-gray-400\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                />\n              </svg>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                <span className=\"font-medium text-blue-600 dark:text-blue-400\">\n                  Click to upload\n                </span>{\" \"}\n                or drag and drop\n              </p>\n              <p className=\"text-sm text-gray-500 dark:text-gray-500 mt-1\">\n                PDF files up to 20MB\n              </p>\n            </>\n          )}\n        </div>\n\n        {/* Error Display */}\n        {uploadError && (\n          <div className=\"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n            <p className=\"text-sm text-red-700 dark:text-red-300\">{uploadError}</p>\n          </div>\n        )}\n\n        {/* Uploaded Documents List */}\n        {hasDocuments && (\n          <div className=\"mt-6\">\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n              Uploaded ({uploadedDocs.length})\n            </h3>\n            <div className=\"space-y-2\">\n              {uploadedDocs.map((doc) => (\n                <div\n                  key={doc._id}\n                  className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <svg\n                      className=\"w-6 h-6 text-red-500 flex-shrink-0\"\n                      fill=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z\" />\n                    </svg>\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate max-w-[200px]\">\n                        {doc.fileName}\n                      </p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {DOCUMENT_TYPE_OPTIONS.find((o) => o.value === doc.documentType)?.label}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span\n                      className={`\n                        text-xs px-2 py-0.5 rounded-full\n                        ${doc.analysisStatus === \"completed\"\n                          ? \"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300\"\n                          : doc.analysisStatus === \"failed\"\n                            ? \"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300\"\n                            : \"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300\"\n                        }\n                      `}\n                    >\n                      {doc.analysisStatus === \"completed\"\n                        ? \"Ready\"\n                        : doc.analysisStatus === \"failed\"\n                          ? \"Error\"\n                          : \"Processing...\"}\n                    </span>\n                    <button\n                      onClick={() => handleDelete(doc._id)}\n                      className=\"p-1 text-gray-400 hover:text-red-500 transition-colors\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Extraction Status */}\n      {hasDocuments && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\n            Extract Information\n          </h2>\n\n          {isExtracting ? (\n            <div className=\"text-center py-6\">\n              <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3\"></div>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                AI is reading your documents...\n              </p>\n              <p className=\"text-sm text-gray-500 dark:text-gray-500 mt-1\">\n                Extracting names, dates, beneficiaries, and more\n              </p>\n            </div>\n          ) : extractionComplete || hasExtractedData ? (\n            <div className=\"space-y-4\">\n              {/* Success Header */}\n              <div className=\"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                <div className=\"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0\">\n                  <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"font-medium text-green-800 dark:text-green-200\">\n                    Extraction Complete\n                  </p>\n                  <p className=\"text-sm text-green-700 dark:text-green-300\">\n                    We found information to pre-fill your questionnaire\n                  </p>\n                </div>\n              </div>\n\n              {/* Extraction Summary */}\n              <div className=\"space-y-2\">\n                <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Data extracted for:\n                </p>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {extractedData?.map((item) => {\n                    const sectionLabels: Record<string, { label: string; icon: string }> = {\n                      personal: { label: \"Personal Info\", icon: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" },\n                      family: { label: \"Family Details\", icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" },\n                      assets: { label: \"Assets\", icon: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" },\n                      existing_documents: { label: \"Existing Docs\", icon: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" },\n                      goals: { label: \"Goals & Wishes\", icon: \"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" },\n                    };\n                    const sectionInfo = sectionLabels[item.section] || { label: item.section, icon: \"\" };\n                    return (\n                      <div\n                        key={item.section}\n                        className=\"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\"\n                      >\n                        <svg className=\"w-4 h-4 text-blue-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={sectionInfo.icon} />\n                        </svg>\n                        <span className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">\n                          {sectionInfo.label}\n                        </span>\n                        <svg className=\"w-4 h-4 text-green-500 ml-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                        </svg>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* What happens next */}\n              <div className=\"p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg\">\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  <span className=\"font-medium text-gray-700 dark:text-gray-300\">Next:</span>{\" \"}\n                  Review the pre-filled forms and make any corrections. Fields from your documents will be marked with a blue badge.\n                </p>\n              </div>\n            </div>\n          ) : (\n            <div>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n                Our AI will read your documents and extract names, addresses, beneficiaries, asset information, and more to pre-fill your questionnaire.\n              </p>\n              <button\n                onClick={handleExtractData}\n                className=\"w-full px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                </svg>\n                Extract with AI\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Action Buttons */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        {hasDocuments && (extractionComplete || hasExtractedData) ? (\n          <button\n            onClick={handleContinue}\n            className=\"flex-1 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium text-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2\"\n          >\n            Continue to Questionnaire\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n        ) : hasDocuments ? (\n          <button\n            onClick={handleContinue}\n            className=\"flex-1 px-6 py-4 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium text-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n          >\n            Continue Without Extraction\n          </button>\n        ) : (\n          <button\n            onClick={handleSkip}\n            className=\"flex-1 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium text-lg hover:bg-blue-700 transition-colors\"\n          >\n            I Don&apos;t Have Documents - Start Fresh\n          </button>\n        )}\n      </div>\n\n      {/* Info Box */}\n      <div className=\"bg-gray-50 dark:bg-gray-900/30 rounded-lg p-4\">\n        <div className=\"flex gap-3\">\n          <svg\n            className=\"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n            <p className=\"font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Why upload documents?\n            </p>\n            <ul className=\"list-disc list-inside space-y-1\">\n              <li>Auto-fill your questionnaire with existing information</li>\n              <li>Identify gaps in your current estate plan</li>\n              <li>Get AI-powered analysis of your documents</li>\n              <li>Compare your documents against best practices</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {/* Back Link */}\n      <div className=\"text-center\">\n        <Link\n          href=\"/intake\"\n          className=\"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\"\n        >\n          Back to overview\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default function UploadPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        </div>\n      }\n    >\n      <UploadStepContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}