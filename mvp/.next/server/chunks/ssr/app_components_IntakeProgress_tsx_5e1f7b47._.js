module.exports=[94323,36705,88416,19920,17154,a=>{"use strict";var b=a.i(87924),c=a.i(50944);let d=[{id:"personal",name:"Personal",fullName:"Personal Information",description:"Your basic information",path:"/intake/personal"},{id:"family",name:"Family",fullName:"Family Members",description:"Spouse, children, dependents",path:"/intake/family"},{id:"assets",name:"Assets",fullName:"Assets & Property",description:"Property, accounts, valuables",path:"/intake/assets"},{id:"existing",name:"Documents",fullName:"Existing Documents",description:"Current estate planning docs",path:"/intake/existing"},{id:"goals",name:"Goals",fullName:"Goals & Wishes",description:"Your estate planning wishes",path:"/intake/goals"}];function e({currentStep:a,completedSteps:e,estatePlanId:f}){let g=(0,c.useRouter)(),h=d.findIndex(b=>b.id===a),i=(b,c)=>{let d=e.has(b.id),i=b.id===a;(d||c<h||i)&&g.push(`${b.path}?planId=${f}`)},j=(b,c)=>{let d=e.has(b.id),f=b.id===a;return d||c<h||f};return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsxs)("nav",{"aria-label":"Progress",className:"relative",children:[(0,b.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-[var(--border)]",style:{left:"2.5rem",right:"2.5rem"}}),(0,b.jsx)("div",{className:"absolute top-5 h-0.5 bg-[var(--accent-purple)] transition-all duration-500",style:{left:"2.5rem",width:`calc(${h/(d.length-1)*100}% - 2.5rem)`}}),(0,b.jsx)("ol",{className:"relative flex items-start justify-between",children:d.map((c,d)=>{let f=e.has(c.id),g=c.id===a,h=j(c,d);return(0,b.jsxs)("li",{className:"flex flex-col items-center relative z-10",children:[(0,b.jsx)("button",{type:"button",onClick:()=>i(c,d),disabled:!h,className:`
                      relative flex h-10 w-10 items-center justify-center rounded-full
                      transition-all duration-200 bg-white
                      ${f?"bg-[var(--success)] text-white ring-4 ring-[var(--success-muted)]":g?"border-2 border-[var(--accent-purple)] ring-4 ring-[var(--accent-muted)]":"border-2 border-[var(--border)]"}
                      ${h&&!g?"cursor-pointer hover:ring-4 hover:ring-[var(--off-white)]":""}
                      ${!h?"cursor-not-allowed opacity-60":""}
                    `,"aria-current":g?"step":void 0,children:f?(0,b.jsx)("svg",{className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,b.jsx)("span",{className:`text-sm font-semibold ${g?"text-[var(--accent-purple)]":"text-[var(--text-muted)]"}`,children:d+1})}),(0,b.jsxs)("div",{className:"mt-3 text-center",children:[(0,b.jsx)("span",{className:`text-sm font-medium block ${g?"text-[var(--accent-purple)]":f?"text-[var(--success)]":"text-[var(--text-muted)]"}`,children:c.name}),(0,b.jsx)("p",{className:"text-xs text-[var(--text-caption)] mt-0.5 max-w-[100px] hidden lg:block",children:c.description})]})]},c.id)})})]})}),(0,b.jsxs)("div",{className:"md:hidden",children:[(0,b.jsxs)("div",{className:"bg-[var(--accent-muted)] rounded-lg p-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-[var(--accent-purple)] uppercase tracking-wide",children:["Step ",h+1," of ",d.length]}),(0,b.jsxs)("span",{className:"text-xs text-[var(--text-muted)]",children:[Math.round((h+1)/d.length*100),"% complete"]})]}),(0,b.jsx)("h3",{className:"font-semibold text-[var(--text-heading)]",children:d[h].fullName}),(0,b.jsx)("p",{className:"text-sm text-[var(--text-body)] mt-1",children:d[h].description})]}),(0,b.jsx)("div",{className:"w-full bg-[var(--border)] rounded-full h-2 mb-3",children:(0,b.jsx)("div",{className:"bg-[var(--accent-purple)] h-2 rounded-full transition-all duration-500",style:{width:`${(h+1)/d.length*100}%`}})}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:d.map((c,d)=>{let f=e.has(c.id),g=c.id===a,h=j(c,d);return(0,b.jsxs)("button",{type:"button",onClick:()=>i(c,d),disabled:!h,className:`
                  flex-shrink-0 px-3 py-1.5 rounded-full text-xs font-medium
                  transition-all duration-200
                  ${f?"bg-[var(--success-muted)] text-[var(--success)]":g?"bg-[var(--accent-purple)] text-white":"bg-[var(--off-white)] text-[var(--text-muted)]"}
                  ${!h?"opacity-50 cursor-not-allowed":""}
                `,children:[f&&(0,b.jsx)("span",{className:"mr-1",children:"âœ“"}),c.name]},c.id)})})]})]})}a.s(["STEPS",()=>d,"default",()=>e],94323);var f=a.i(72131);function g({status:a,lastSaved:c,errorMessage:d}){let[e,g]=(0,f.useState)(!1);return((0,f.useEffect)(()=>{if("saved"===a){g(!0);let a=setTimeout(()=>{g(!1)},3e3);return()=>clearTimeout(a)}},[a]),"idle"!==a||c||e)?(0,b.jsx)("div",{className:`
        inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm
        transition-all duration-300
        ${"saving"===a?"bg-[var(--accent-muted)] text-[var(--accent-purple)]":"error"===a?"bg-[var(--error-muted)] text-[var(--error)]":e?"bg-[var(--success-muted)] text-[var(--success)]":"bg-[var(--off-white)] text-[var(--text-muted)]"}
      `,children:"saving"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:"Saving..."})]}):"error"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,b.jsx)("span",{children:d||"Failed to save"})]}):e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,b.jsx)("span",{children:"All changes saved"})]}):c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("span",{children:["Last saved ",c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):null}):null}var h=a.i(66917);function i({currentStep:a,estatePlanId:e,onSaveAndExit:f,onSaveAndContinue:i,isSubmitting:j,canContinue:k,saveStatus:l="idle",lastSaved:m,nextStepLabel:n,isLastStep:o=!1}){let p=(0,c.useRouter)(),q=d.findIndex(b=>b.id===a),r=0===q,s=r?null:d[q-1];return(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-[var(--border)]",children:[(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(g,{status:l,lastSaved:m})}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsx)("div",{className:"w-full sm:w-auto order-2 sm:order-1",children:r?(0,b.jsx)("div",{}):(0,b.jsxs)(h.default,{variant:"ghost",onClick:()=>{s&&p.push(`${s.path}?planId=${e}`)},disabled:j,leftIcon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),fullWidth:!0,className:"sm:w-auto",children:["Back to ",s?.name]})}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto order-1 sm:order-2",children:[(0,b.jsx)(h.default,{variant:"outline",onClick:f,disabled:j,fullWidth:!0,className:"sm:w-auto",children:"Save & Exit"}),(0,b.jsx)(h.default,{variant:"primary",onClick:i,disabled:j||!k,isLoading:j,rightIcon:!j&&(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),fullWidth:!0,className:"sm:w-auto",children:(()=>{if(j)return"Saving...";if(n)return n;if(o)return"Complete Intake";let a=d[q+1];return a?`Continue to ${a.name}`:"Complete"})()})]})]}),!k&&(0,b.jsx)("p",{className:"text-sm text-[var(--warning)] text-center sm:text-right",children:"Please complete all required fields to continue"})]})}function j({label:a,required:c,error:d,hint:e,helpText:g,showSuccess:h,children:i}){let j=(0,f.useId)(),k=!!d;return(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("label",{htmlFor:j,className:"block text-sm font-medium text-[var(--text-body)]",children:[a,c&&(0,b.jsx)("span",{className:"text-[var(--error)] ml-1",children:"*"})]}),h&&!k&&(0,b.jsxs)("span",{className:"flex items-center text-xs text-[var(--success)]",children:[(0,b.jsx)("svg",{className:"w-3.5 h-3.5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Valid"]})]}),g&&(0,b.jsxs)("p",{className:"text-xs text-[var(--text-muted)] flex items-start gap-1.5",children:[(0,b.jsx)("svg",{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0 text-[var(--text-caption)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]}),i,e&&!d&&(0,b.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:e}),d&&(0,b.jsxs)("p",{className:"text-xs text-[var(--error)] flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d]})]})}function k({value:a,onChange:c,placeholder:d,type:e="text",disabled:f,required:g,error:h,success:i,autoComplete:j,inputMode:k,pattern:l,maxLength:m,name:n}){return(0,b.jsx)("input",{type:e,name:n,value:a,onChange:a=>c(a.target.value),placeholder:d,disabled:f,required:g,autoComplete:j,inputMode:k,pattern:l,maxLength:m,className:`
        w-full px-3 py-2.5 border rounded-lg
        bg-white text-[var(--text-heading)]
        placeholder-[var(--text-caption)]
        transition-all duration-150
        focus:outline-none focus:ring-2 focus:ring-offset-0
        disabled:bg-[var(--off-white)] disabled:cursor-not-allowed disabled:opacity-60
        ${h?"border-[var(--error)] focus:ring-[var(--error)] focus:border-[var(--error)]":i?"border-[var(--success)] focus:ring-[var(--success)] focus:border-[var(--success)]":"border-[var(--border)] focus:ring-[var(--accent-purple)] focus:border-[var(--accent-purple)]"}
      `})}function l({value:a,onChange:c,options:d,placeholder:e,disabled:f,error:g,success:h,name:i}){return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{name:i,value:a,onChange:a=>c(a.target.value),disabled:f,className:`
          w-full px-3 py-2.5 border rounded-lg appearance-none
          bg-white text-[var(--text-heading)]
          transition-all duration-150
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:bg-[var(--off-white)] disabled:cursor-not-allowed disabled:opacity-60
          ${g?"border-[var(--error)] focus:ring-[var(--error)] focus:border-[var(--error)]":h?"border-[var(--success)] focus:ring-[var(--success)] focus:border-[var(--success)]":"border-[var(--border)] focus:ring-[var(--accent-purple)] focus:border-[var(--accent-purple)]"}
        `,children:[e&&(0,b.jsx)("option",{value:"",disabled:!0,children:e}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),(0,b.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-[var(--text-caption)]",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}function m({value:a,onChange:c,options:d,name:e,disabled:f,columns:g=1}){return(0,b.jsx)("div",{className:`grid gap-3 ${2===g?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:d.map(d=>(0,b.jsxs)("label",{className:`
            relative flex items-start p-4 border-2 rounded-xl cursor-pointer
            transition-all duration-200
            ${a===d.value?"border-[var(--accent-purple)] bg-[var(--accent-muted)] ring-1 ring-[var(--accent-purple)]":"border-[var(--border)] hover:border-[var(--border-strong)] hover:bg-[var(--off-white)]"}
            ${f?"opacity-50 cursor-not-allowed":""}
          `,children:[(0,b.jsx)("input",{type:"radio",name:e,value:d.value,checked:a===d.value,onChange:a=>c(a.target.value),disabled:f,className:"mt-0.5 h-4 w-4 text-[var(--accent-purple)] border-[var(--border)] focus:ring-[var(--accent-purple)] focus:ring-offset-0"}),(0,b.jsxs)("div",{className:"ml-3 flex-1",children:[(0,b.jsx)("span",{className:`text-sm font-medium ${a===d.value?"text-[var(--accent-purple)]":"text-[var(--text-heading)]"}`,children:d.label}),d.description&&(0,b.jsx)("p",{className:`text-xs mt-0.5 ${a===d.value?"text-[var(--accent-purple)]":"text-[var(--text-muted)]"}`,children:d.description})]}),a===d.value&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-[var(--accent-purple)]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},d.value))})}function n({checked:a,onChange:c,label:d,description:e,disabled:f}){return(0,b.jsxs)("label",{className:`
        relative flex items-start p-4 border-2 rounded-xl cursor-pointer
        transition-all duration-200
        ${a?"border-[var(--accent-purple)] bg-[var(--accent-muted)] ring-1 ring-[var(--accent-purple)]":"border-[var(--border)] hover:border-[var(--border-strong)] hover:bg-[var(--off-white)]"}
        ${f?"opacity-50 cursor-not-allowed":""}
      `,children:[(0,b.jsx)("input",{type:"checkbox",checked:a,onChange:a=>c(a.target.checked),disabled:f,className:"mt-0.5 h-4 w-4 text-[var(--accent-purple)] border-[var(--border)] rounded focus:ring-[var(--accent-purple)] focus:ring-offset-0"}),(0,b.jsxs)("div",{className:"ml-3 flex-1",children:[(0,b.jsx)("span",{className:`text-sm font-medium ${a?"text-[var(--accent-purple)]":"text-[var(--text-heading)]"}`,children:d}),e&&(0,b.jsx)("p",{className:`text-xs mt-0.5 ${a?"text-[var(--accent-purple)]":"text-[var(--text-muted)]"}`,children:e})]}),a&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-[var(--accent-purple)]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}function o({value:a,onChange:c,placeholder:d,rows:e=3,disabled:f,error:g,success:h,maxLength:i,showCount:j}){return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{value:a,onChange:a=>c(a.target.value),placeholder:d,rows:e,disabled:f,maxLength:i,className:`
          w-full px-3 py-2.5 border rounded-lg resize-none
          bg-white text-[var(--text-heading)]
          placeholder-[var(--text-caption)]
          transition-all duration-150
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:bg-[var(--off-white)] disabled:cursor-not-allowed disabled:opacity-60
          ${g?"border-[var(--error)] focus:ring-[var(--error)] focus:border-[var(--error)]":h?"border-[var(--success)] focus:ring-[var(--success)] focus:border-[var(--success)]":"border-[var(--border)] focus:ring-[var(--accent-purple)] focus:border-[var(--accent-purple)]"}
        `}),j&&i&&(0,b.jsxs)("div",{className:"absolute bottom-2 right-3 text-xs text-[var(--text-caption)]",children:[a.length,"/",i]})]})}function p({title:a,description:c,children:d,badge:e}){return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border-b border-[var(--border)] pb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-heading)]",children:a}),e]}),c&&(0,b.jsx)("div",{className:"text-sm text-[var(--text-muted)] mt-1",children:c})]}),(0,b.jsx)("div",{className:"space-y-4",children:d})]})}function q({type:a="info",title:c,children:d}){let e={info:{container:"bg-[var(--info-muted)] border-[var(--info)]",icon:"text-[var(--info)]",title:"text-[var(--info)]"},warning:{container:"bg-[var(--warning-muted)] border-[var(--warning)]",icon:"text-[var(--warning)]",title:"text-[var(--warning)]"},tip:{container:"bg-[var(--success-muted)] border-[var(--success)]",icon:"text-[var(--success)]",title:"text-[var(--success)]"}},f={info:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),tip:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})};return(0,b.jsx)("div",{className:`rounded-lg border p-4 ${e[a].container}`,children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:`flex-shrink-0 ${e[a].icon}`,children:f[a]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[c&&(0,b.jsx)("h4",{className:`font-medium mb-1 ${e[a].title}`,children:c}),(0,b.jsx)("div",{className:"text-sm text-[var(--text-body)]",children:d})]})]})})}a.s(["default",()=>i],36705),a.s(["Checkbox",()=>n,"FormField",()=>j,"FormSection",()=>p,"InfoBox",()=>q,"RadioGroup",()=>m,"Select",()=>l,"TextArea",()=>o,"TextInput",()=>k],88416),a.i(11241);var r=a.i(96373),s=a.i(1322);let t={personal:"personal",family:"family",assets:"assets",existing:"existing_documents",goals:"goals"},u={personal:{next:"family",nextLabel:"Continue to Family"},family:{next:"assets",nextLabel:"Continue to Assets"},assets:{next:"existing",nextLabel:"Continue to Documents"},existing:{next:"goals",nextLabel:"Continue to Goals"},goals:{next:"complete",nextLabel:"Review & Complete"}};function v(){return new Date().getFullYear()}function w(a,b){let d=(0,c.useRouter)(),e=(0,c.useSearchParams)().get("planId"),[g,h]=(0,f.useState)(b),[i,j]=(0,f.useState)(!1),[k,l]=(0,f.useState)(!1),[m,n]=(0,f.useState)("idle"),[o,p]=(0,f.useState)(null),[q,v]=(0,f.useState)(null),[w,x]=(0,f.useState)(new Set),[y,z]=(0,f.useState)(!1),A=(0,f.useRef)(null),B=(0,f.useRef)(g);(0,f.useEffect)(()=>{B.current=g},[g]);let C=(0,r.useQuery)(s.api.queries.getIntakeSection,e?{estatePlanId:e,section:t[a]}:"skip"),D=(0,r.useQuery)(s.api.extractedData.getExtractedDataBySection,e?{estatePlanId:e,section:t[a]}:"skip"),E=(0,r.useQuery)(s.api.queries.getIntakeProgress,e?{estatePlanId:e}:"skip"),F=(0,r.useMutation)(s.api.estatePlanning.updateIntakeData);(0,f.useEffect)(()=>{if(void 0===C||void 0===D||y)return;let a={},c={};if(C?.data)try{a=JSON.parse(C.data)}catch(a){console.error("Failed to parse existing intake data:",a)}D?.parsedData&&(c=D.parsedData);let d={...b},e=new Set;for(let[a,b]of Object.entries(c))null!=b&&""!==b&&(d[a]=b,e.add(a));for(let[b,f]of Object.entries(a))null!=f&&""!==f&&(d[b]=f,c[b]!==f&&e.delete(b));h(d),B.current=d,x(e),z(!0)},[C,D,b,y]),(0,f.useEffect)(()=>()=>{A.current&&clearTimeout(A.current)},[]);let G=(0,f.useCallback)(async(b,c=!1)=>{if(!e)return console.error("No estate plan ID"),!1;n("saving"),v(null);try{return await F({estatePlanId:e,section:t[a],data:JSON.stringify(b),isComplete:c}),l(!1),n("saved"),p(new Date),!0}catch(a){return console.error("Failed to save intake data:",a),n("error"),v(a instanceof Error?a.message:"Failed to save"),!1}},[e,a,F]),H=(0,f.useCallback)(()=>{A.current&&clearTimeout(A.current),A.current=setTimeout(async()=>{await G(B.current,!1)},2e3)},[G]),I=(0,f.useCallback)((a,b)=>{h(c=>({...c,[a]:b})),l(!0),n("idle"),H()},[H]),J=(0,f.useCallback)(async()=>{A.current&&clearTimeout(A.current),j(!0);try{await G(g,!1)}finally{j(!1)}},[G,g]),K=(0,f.useCallback)(async()=>{A.current&&clearTimeout(A.current),j(!0);try{if(await G(g,!0)){let b=u[a];"complete"===b.next?d.push(`/intake?planId=${e}&complete=true`):d.push(`/intake/${b.next}?planId=${e}`)}}finally{j(!1)}},[G,g,a,d,e]),L=(0,f.useCallback)(async()=>{A.current&&clearTimeout(A.current),j(!0);try{await G(g,!1),d.push(`/intake?planId=${e}`)}finally{j(!1)}},[G,g,d,e]),M=new Set;if(E?.sections){for(let[a,b]of Object.entries(E.sections))if(b.isComplete){let b=Object.entries(t).find(([b,c])=>c===a);b&&M.add(b[0])}}let N=u[a],O=(0,f.useCallback)(a=>w.has(a),[w]),P=D?.confidence;return{formData:g,setFormData:h,updateField:I,save:J,saveAndContinue:K,saveAndExit:L,isSubmitting:i,hasChanges:k,estatePlanId:e,completedSteps:M,progress:E,isLoading:void 0===C||void 0===D||!y,saveStatus:m,lastSaved:o,saveError:q,nextStepLabel:N.nextLabel,isLastStep:"complete"===N.next,extractedFields:w,isFieldExtracted:O,extractionConfidence:P,hasExtractedData:w.size>0}}function x(a,b){let c=(0,r.useQuery)(s.api.queries.getIntakeSection,a?{estatePlanId:a,section:b}:"skip");if(void 0===c)return{data:null,isLoading:!0};if(!c?.data)return{data:null,isLoading:!1};try{return{data:JSON.parse(c.data),isLoading:!1}}catch{return{data:null,isLoading:!1}}}function y(){return(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("span",{children:"From Document"})]})}function z(){return(0,b.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,b.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("span",{children:["Some fields have been pre-filled from your uploaded documents. Look for the"," ",(0,b.jsx)(y,{})," badge. Review and update as needed."]})]})})}a.s(["US_STATES",0,[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"},{value:"DC",label:"District of Columbia"}],"getCurrentYear",()=>v,"useIntakeForm",()=>w,"useOtherSectionData",()=>x],19920),a.s(["ExtractedBadge",()=>y,"ExtractedDataBanner",()=>z],17154)}];

//# sourceMappingURL=app_components_IntakeProgress_tsx_5e1f7b47._.js.map